/*! For license information please see extension.js.LICENSE.txt */
(()=>{var t={9170:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9444),i=r(3171),s={returnIndex:!1},o=(t,e,r,n)=>{const s=Array.isArray(r),o=s?r[0]:r;if(!s&&"string"!=typeof o)throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));const a=i(o);for(let t=0;t<e.length;t++)if((0,e[t])(a))return!!n&&-1;const c=s&&[a].concat(r.slice(1));for(let e=0;e<t.length;e++){const r=t[e];if(s?r(...c):r(a))return!n||e}return!!n&&-1},a=(t,e,r=s)=>{if(null==t)throw new TypeError("anymatch: specify first argument");const i="boolean"==typeof r?{returnIndex:r}:r,a=i.returnIndex||!1,c=(l=t,Array.isArray(l)?l:[l]);var l;const h=c.filter((t=>"string"==typeof t&&"!"===t.charAt(0))).map((t=>t.slice(1))).map((t=>n(t,i))),u=c.map((t=>((t,e)=>{if("function"==typeof t)return t;if("string"==typeof t){const r=n(t,e);return e=>t===e||r(e)}return t instanceof RegExp?e=>t.test(e):t=>!1})(t,i)));return null==e?(t,e=!1)=>o(u,h,t,"boolean"==typeof e&&e):o(u,h,e,a)};a.default=a,t.exports=a},5623:t=>{"use strict";function e(t,e,i){t instanceof RegExp&&(t=r(t,i)),e instanceof RegExp&&(e=r(e,i));var s=n(t,e,i);return s&&{start:s[0],end:s[1],pre:i.slice(0,s[0]),body:i.slice(s[0]+t.length,s[1]),post:i.slice(s[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function n(t,e,r){var n,i,s,o,a,c=r.indexOf(t),l=r.indexOf(e,c+1),h=c;if(c>=0&&l>0){if(t===e)return[c,l];for(n=[],s=r.length;h>=0&&!a;)h==c?(n.push(h),c=r.indexOf(t,h+1)):1==n.length?a=[n.pop(),l]:((i=n.pop())<s&&(s=i,o=l),l=r.indexOf(e,h+1)),h=c<l&&c>=0?c:l;n.length&&(a=[s,o])}return a}t.exports=e,e.range=n},3644:(t,e,r)=>{var n=r(1048),i=r(5623);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),y(function(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(t),!0).map(u)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function h(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function u(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function p(t){if(!t)return[""];var e=[],r=i("{","}",t);if(!r)return t.split(",");var n=r.pre,s=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var c=p(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function f(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function m(t,e){return t<=e}function g(t,e){return t>=e}function y(t,e){var r=[],s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var o,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),u=c||l,b=s.body.indexOf(",")>=0;if(!u&&!b)return s.post.match(/,.*\}/)?y(t=s.pre+"{"+s.body+a+s.post):[t];if(u)o=s.body.split(/\.\./);else if(1===(o=p(s.body)).length&&1===(o=y(o[0],!1).map(f)).length)return(E=s.post.length?y(s.post,!1):[""]).map((function(t){return s.pre+o[0]+t}));var v,w=s.pre,E=s.post.length?y(s.post,!1):[""];if(u){var A=h(o[0]),_=h(o[1]),S=Math.max(o[0].length,o[1].length),x=3==o.length?Math.abs(h(o[2])):1,k=m;_<A&&(x*=-1,k=g);var C=o.some(d);v=[];for(var R=A;k(R,_);R+=x){var O;if(l)"\\"===(O=String.fromCharCode(R))&&(O="");else if(O=String(R),C){var T=S-O.length;if(T>0){var L=new Array(T+1).join("0");O=R<0?"-"+L+O.slice(1):L+O}}v.push(O)}}else v=n(o,(function(t){return y(t,!1)}));for(var D=0;D<v.length;D++)for(var P=0;P<E.length;P++){var $=w+v[D]+E[P];(!e||u||$)&&r.push($)}return r}},1048:t=>{t.exports=function(t,r){for(var n=[],i=0;i<t.length;i++){var s=r(t[i],i);e(s)?n.push.apply(n,s):n.push(s)}return n};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},7334:(t,e,r)=>{t.exports=h,h.realpath=h,h.sync=u,h.realpathSync=u,h.monkeypatch=function(){n.realpath=h,n.realpathSync=u},h.unmonkeypatch=function(){n.realpath=i,n.realpathSync=s};var n=r(7147),i=n.realpath,s=n.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),c=r(7059);function l(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function h(t,e,r){if(a)return i(t,e,r);"function"==typeof e&&(r=e,e=null),i(t,e,(function(n,i){l(n)?c.realpath(t,e,r):r(n,i)}))}function u(t,e){if(a)return s(t,e);try{return s(t,e)}catch(r){if(l(r))return c.realpathSync(t,e);throw r}}},7059:(t,e,r)=>{var n=r(1017),i="win32"===process.platform,s=r(7147),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;e.realpathSync=function(t,e){if(t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,o,l,h,u=t,p={},f={};function d(){var e=c.exec(t);r=e[0].length,o=e[0],l=e[0],h="",i&&!f[l]&&(s.lstatSync(l),f[l]=!0)}for(d();r<t.length;){a.lastIndex=r;var m=a.exec(t);if(h=o,o+=m[0],l=h+m[1],r=a.lastIndex,!(f[l]||e&&e[l]===l)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,l))g=e[l];else{var y=s.lstatSync(l);if(!y.isSymbolicLink()){f[l]=!0,e&&(e[l]=l);continue}var b=null;if(!i){var v=y.dev.toString(32)+":"+y.ino.toString(32);p.hasOwnProperty(v)&&(b=p[v])}null===b&&(s.statSync(l),b=s.readlinkSync(l)),g=n.resolve(h,b),e&&(e[l]=g),i||(p[v]=b)}t=n.resolve(g,t.slice(r)),d()}}return e&&(e[u]=t),t},e.realpath=function(t,e,r){if("function"!=typeof r&&(r=function(t){return"function"==typeof t?t:function(){var t;if(o){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}(e),e=null),t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var l,h,u,p,f=t,d={},m={};function g(){var e=c.exec(t);l=e[0].length,h=e[0],u=e[0],p="",i&&!m[u]?s.lstat(u,(function(t){if(t)return r(t);m[u]=!0,y()})):process.nextTick(y)}function y(){if(l>=t.length)return e&&(e[f]=t),r(null,t);a.lastIndex=l;var n=a.exec(t);return p=h,h+=n[0],u=p+n[1],l=a.lastIndex,m[u]||e&&e[u]===u?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,u)?w(e[u]):s.lstat(u,b)}function b(t,n){if(t)return r(t);if(!n.isSymbolicLink())return m[u]=!0,e&&(e[u]=u),process.nextTick(y);if(!i){var o=n.dev.toString(32)+":"+n.ino.toString(32);if(d.hasOwnProperty(o))return v(null,d[o],u)}s.stat(u,(function(t){if(t)return r(t);s.readlink(u,(function(t,e){i||(d[o]=e),v(t,e)}))}))}function v(t,i,s){if(t)return r(t);var o=n.resolve(p,i);e&&(e[s]=o),w(o)}function w(e){t=n.resolve(e,t.slice(l)),g()}g()}},6772:(t,e,r)=>{function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,r){if(r||(r={}),r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||i,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(h))}(t,r),t.changedCwd=!1;var o=process.cwd();n(r,"cwd")?(t.cwd=s.resolve(r.cwd),t.changedCwd=t.cwd!==o):t.cwd=s.resolve(o),t.root=r.root||s.resolve(t.cwd,"/"),t.root=s.resolve(t.root),t.cwdAbs=a(t.cwd)?t.cwd:u(t,t.cwd),t.nomount=!!r.nomount,"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"),t.cwd=t.cwd.replace(/\\/g,"/"),t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!0,t.minimatch=new c(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=u,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(l)),t.mark){for(n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[u(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}t.ignore.length&&(r=r.filter((function(e){return!p(t,e)}))),t.found=r},e.mark=function(t,e){var r=u(t,e),n=t.cache[r],i=e;if(n){var s="DIR"===n||Array.isArray(n),o="/"===e.slice(-1);if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=u(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i},e.isIgnored=p,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=r(7147),s=r(1017),o=r(6522),a=r(1017).isAbsolute,c=o.Minimatch;function l(t,e){return t.localeCompare(e,"en")}function h(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new c(r,{dot:!0})}return{matcher:new c(t,{dot:!0}),gmatcher:e}}function u(t,e){var r=e;return r="/"===e.charAt(0)?s.join(t.root,e):a(e)||""===e?e:t.changedCwd?s.resolve(t.cwd,e):s.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function p(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},2884:(t,e,r)=>{t.exports=b;var n=r(7334),i=r(6522),s=(i.Minimatch,r(5717)),o=r(2361).EventEmitter,a=r(1017),c=r(9491),l=r(1017).isAbsolute,h=r(4751),u=r(6772),p=u.setopts,f=u.ownProp,d=r(7844),m=(r(3837),u.childrenIgnored),g=u.isIgnored,y=r(778);function b(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return h(t,e)}return new w(t,e,r)}b.sync=h;var v=b.GlobSync=h.GlobSync;function w(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new v(t,e)}if(!(this instanceof w))return new w(t,e,r);p(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return o();for(var s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--i._processing,i._processing<=0&&i._finish()}}b.glob=b,b.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new w(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},b.Glob=w,s(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();u.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,o=i.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=s._makeAbs(r),n.realpath(r,s.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:s.emit("error",n):a[i]=!0,0==--o&&(s.matches[t]=a,e())}))}))},w.prototype._mark=function(t){return u.mark(this,t)},w.prototype._makeAbs=function(t){return u.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(t,e,r,n){if(c(this instanceof w),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var s,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,o).join("/")}var a,h=t.slice(o);null===s?a=".":l(s)||l(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var u=this._makeAbs(a);if(m(this,a))return n();h[0]===i.GLOBSTAR?this._processGlobStar(s,a,u,h,e,r,n):this._processReaddir(s,a,u,h,e,r,n)}},w.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,l){return a._processReaddir2(t,e,r,n,i,s,l,o)}))},w.prototype._processReaddir2=function(t,e,r,n,i,s,o,c){if(!o)return c();for(var l=n[0],h=!!this.minimatch.negate,u=l._glob,p=this.dot||"."===u.charAt(0),f=[],d=0;d<o.length;d++)("."!==(g=o[d]).charAt(0)||p)&&(h&&!t?!g.match(l):g.match(l))&&f.push(g);var m=f.length;if(0===m)return c();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),d=0;d<m;d++){var g=f[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return c()}for(n.shift(),d=0;d<m;d++)g=f[d],t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(n),i,s,c);c()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!g(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=l(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,n=d("lstat\0"+t,(function(n,i){if(n&&"ENOENT"===n.code)return e();var s=i&&i.isSymbolicLink();r.symlinks[t]=s,s||!i||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));n&&r.fs.lstat(t,n)}},w.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!f(this.symlinks,t))return this._readdirInGlobStar(t,r);if(f(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}this.fs.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},w.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},w.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},w.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,l){a._processGlobStar2(t,e,r,n,i,s,l,o)}))},w.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1),l=t?[t]:[],h=l.concat(c);this._process(h,i,!1,a);var u=this.symlinks[r],p=o.length;if(u&&s)return a();for(var f=0;f<p;f++)if("."!==o[f].charAt(0)||this.dot){var d=l.concat(o[f],c);this._process(d,i,!0,a);var m=l.concat(o[f],n);this._process(m,i,!0,a)}a()},w.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,(function(i,s){n._processSimple2(t,e,i,s,r)}))},w.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&l(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},w.prototype._stat=function(t,e){var r=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&f(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return e(null,i);if(n&&"FILE"===i)return e()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return n&&"FILE"===o?e():e(null,o,s)}var a=this,c=d("stat\0"+r,(function(n,i){if(i&&i.isSymbolicLink())return a.fs.stat(r,(function(n,s){n?a._stat2(t,r,null,i,e):a._stat2(t,r,n,s,e)}));a._stat2(t,r,n,i,e)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var s="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&"FILE"===o?i():i(null,o,n)}},5146:(t,e,r)=>{var n=r(5623);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),g(function(t){return t.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(o).split("\\,").join(a).split("\\.").join(c)}(t),!0).map(h)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(i).join("\\").split(s).join("{").split(o).join("}").split(a).join(",").split(c).join(".")}function u(t){if(!t)return[""];var e=[],r=n("{","}",t);if(!r)return t.split(",");var i=r.pre,s=r.body,o=r.post,a=i.split(",");a[a.length-1]+="{"+s+"}";var c=u(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function p(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function m(t,e){return t>=e}function g(t,e){var r=[],i=n("{","}",t);if(!i)return[t];var s=i.pre,a=i.post.length?g(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<a.length;c++){var h=s+"{"+i.body+"}"+a[c];r.push(h)}else{var y,b,v=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),w=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),E=v||w,A=i.body.indexOf(",")>=0;if(!E&&!A)return i.post.match(/,.*\}/)?g(t=i.pre+"{"+i.body+o+i.post):[t];if(E)y=i.body.split(/\.\./);else if(1===(y=u(i.body)).length&&1===(y=g(y[0],!1).map(p)).length)return a.map((function(t){return i.pre+y[0]+t}));if(E){var _=l(y[0]),S=l(y[1]),x=Math.max(y[0].length,y[1].length),k=3==y.length?Math.abs(l(y[2])):1,C=d;S<_&&(k*=-1,C=m);var R=y.some(f);b=[];for(var O=_;C(O,S);O+=k){var T;if(w)"\\"===(T=String.fromCharCode(O))&&(T="");else if(T=String(O),R){var L=x-T.length;if(L>0){var D=new Array(L+1).join("0");T=O<0?"-"+D+T.slice(1):D+T}}b.push(T)}}else{b=[];for(var P=0;P<y.length;P++)b.push.apply(b,g(y[P],!1))}for(P=0;P<b.length;P++)for(c=0;c<a.length;c++)h=s+b[P]+a[c],(!e||E||h)&&r.push(h)}return r}},4340:t=>{const e="object"==typeof process&&process&&"win32"===process.platform;t.exports=e?{sep:"\\"}:{sep:"/"}},6522:(t,e,r)=>{const n=t.exports=(t,e,r={})=>(g(e),!(!r.nocomment&&"#"===e.charAt(0))&&new b(e,r).match(t));t.exports=n;const i=r(4340);n.sep=i.sep;const s=Symbol("globstar **");n.GLOBSTAR=s;const o=r(5146),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",l="[^/]*?",h=t=>t.split("").reduce(((t,e)=>(t[e]=!0,t)),{}),u=h("().*{}+?[]^$\\!"),p=h("[.("),f=/\/+/;n.filter=(t,e={})=>(r,i,s)=>n(r,t,e);const d=(t,e={})=>{const r={};return Object.keys(t).forEach((e=>r[e]=t[e])),Object.keys(e).forEach((t=>r[t]=e[t])),r};n.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return n;const e=n,r=(r,n,i)=>e(r,n,d(t,i));return(r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,d(t,r))}}).defaults=r=>e.defaults(d(t,r)).Minimatch,r.filter=(r,n)=>e.filter(r,d(t,n)),r.defaults=r=>e.defaults(d(t,r)),r.makeRe=(r,n)=>e.makeRe(r,d(t,n)),r.braceExpand=(r,n)=>e.braceExpand(r,d(t,n)),r.match=(r,n,i)=>e.match(r,n,d(t,i)),r},n.braceExpand=(t,e)=>m(t,e);const m=(t,e={})=>(g(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:o(t)),g=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},y=Symbol("subparse");n.makeRe=(t,e)=>new b(t,e||{}).makeRe(),n.match=(t,e,r={})=>{const n=new b(e,r);return t=t.filter((t=>n.match(t))),n.options.nonull&&!t.length&&t.push(e),t};class b{constructor(t,e){g(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map((t=>t.split(f))),this.debug(this.pattern,r),r=r.map(((t,e,r)=>t.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((t=>-1===t.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let n=0;n<t.length&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}matchOne(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,a=t.length,c=e.length;i<a&&o<c;i++,o++){this.debug("matchOne loop");var l,h=e[o],u=t[i];if(this.debug(e,h,u),!1===h)return!1;if(h===s){this.debug("GLOBSTAR",[e,h,u]);var p=i,f=o+1;if(f===c){for(this.debug("** at the end");i<a;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;p<a;){var d=t[p];if(this.debug("\nglobstar while",t,p,e,f,d),this.matchOne(t.slice(p),e.slice(f),r))return this.debug("globstar found match!",p,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==a))}if("string"==typeof h?(l=u===h,this.debug("string match",h,u,l)):(l=u.match(h),this.debug("pattern match",h,u,l)),!l)return!1}if(i===a&&o===c)return!0;if(i===a)return r;if(o===c)return i===a-1&&""===t[i];throw new Error("wtf?")}braceExpand(){return m(this.pattern,this.options)}parse(t,e){g(t);const r=this.options;if("**"===t){if(!r.noglobstar)return s;t="*"}if(""===t)return"";let n="",i=!!r.nocase,o=!1;const h=[],f=[];let d,m,b,v,w=!1,E=-1,A=-1;const _="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=()=>{if(d){switch(d){case"*":n+=l,i=!0;break;case"?":n+=c,i=!0;break;default:n+="\\"+d}this.debug("clearStateChar %j %j",d,n),d=!1}};for(let e,s=0;s<t.length&&(e=t.charAt(s));s++)if(this.debug("%s\t%s %s %j",t,s,n,e),o){if("/"===e)return!1;u[e]&&(n+="\\"),n+=e,o=!1}else switch(e){case"/":return!1;case"\\":S(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,s,n,e),w){this.debug("  in class"),"!"===e&&s===A+1&&(e="^"),n+=e;continue}this.debug("call clearStateChar %j",d),S(),d=e,r.noext&&S();continue;case"(":if(w){n+="(";continue}if(!d){n+="\\(";continue}h.push({type:d,start:s-1,reStart:n.length,open:a[d].open,close:a[d].close}),n+="!"===d?"(?:(?!(?:":"(?:",this.debug("plType %j %j",d,n),d=!1;continue;case")":if(w||!h.length){n+="\\)";continue}S(),i=!0,b=h.pop(),n+=b.close,"!"===b.type&&f.push(b),b.reEnd=n.length;continue;case"|":if(w||!h.length){n+="\\|";continue}S(),n+="|";continue;case"[":if(S(),w){n+="\\"+e;continue}w=!0,A=s,E=n.length,n+=e;continue;case"]":if(s===A+1||!w){n+="\\"+e;continue}m=t.substring(A+1,s);try{RegExp("["+m+"]")}catch(t){v=this.parse(m,y),n=n.substr(0,E)+"\\["+v[0]+"\\]",i=i||v[1],w=!1;continue}i=!0,w=!1,n+=e;continue;default:S(),!u[e]||"^"===e&&w||(n+="\\"),n+=e}for(w&&(m=t.substr(A+1),v=this.parse(m,y),n=n.substr(0,E)+"\\["+v[0],i=i||v[1]),b=h.pop();b;b=h.pop()){let t;t=n.slice(b.reStart+b.open.length),this.debug("setting tail",n,b),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,((t,e,r)=>(r||(r="\\"),e+e+r+"|"))),this.debug("tail=%j\n   %s",t,t,b,n);const e="*"===b.type?l:"?"===b.type?c:"\\"+b.type;i=!0,n=n.slice(0,b.reStart)+e+"\\("+t}S(),o&&(n+="\\\\");const x=p[n.charAt(0)];for(let t=f.length-1;t>-1;t--){const r=f[t],i=n.slice(0,r.reStart),s=n.slice(r.reStart,r.reEnd-8);let o=n.slice(r.reEnd);const a=n.slice(r.reEnd-8,r.reEnd)+o,c=i.split("(").length-1;let l=o;for(let t=0;t<c;t++)l=l.replace(/\)[+*?]?/,"");o=l,n=i+s+o+(""===o&&e!==y?"$":"")+a}if(""!==n&&i&&(n="(?=.)"+n),x&&(n=_+n),e===y)return[n,i];if(!i)return t.replace(/\\(.)/g,"$1");const k=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",k),{_glob:t,_src:n})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?l:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"";let i=t.map((t=>(t=t.map((t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===s?s:t._src)).reduce(((t,e)=>(t[t.length-1]===s&&e===s||t.push(e),t)),[]),t.forEach(((e,n)=>{e===s&&t[n-1]!==s&&(0===n?t.length>1?t[n+1]="(?:\\/|"+r+"\\/)?"+t[n+1]:t[n]=r:n===t.length-1?t[n-1]+="(?:\\/|"+r+")?":(t[n-1]+="(?:\\/|\\/"+r+"\\/)"+t[n+1],t[n+1]=s))})),t.filter((t=>t!==s)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==i.sep&&(t=t.split(i.sep).join("/")),t=t.split(f),this.debug(this.pattern,"split",t);const n=this.set;let s;this.debug(this.pattern,"set",n);for(let e=t.length-1;e>=0&&(s=t[e],!s);e--);for(let i=0;i<n.length;i++){const o=n[i];let a=t;if(r.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return n.defaults(t).Minimatch}}n.Minimatch=b},4751:(t,e,r)=>{t.exports=f,f.GlobSync=d;var n=r(7334),i=r(6522),s=(i.Minimatch,r(2884).Glob,r(3837),r(1017)),o=r(9491),a=r(1017).isAbsolute,c=r(6772),l=c.setopts,h=c.ownProp,u=c.childrenIgnored,p=c.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new d(t,e).found}function d(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof d))return new d(t,e);if(l(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}d.prototype._finish=function(){if(o.ok(this instanceof d),this.realpath){var t=this;this.matches.forEach((function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[n.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}}))}c.finish(this)},d.prototype._process=function(t,e,r){o.ok(this instanceof d);for(var n,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,s).join("/")}var c,l=t.slice(s);null===n?c=".":a(n)||a(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(n&&a(n)||(n="/"+n),c=n):c=n;var h=this._makeAbs(c);u(this,c)||(l[0]===i.GLOBSTAR?this._processGlobStar(n,c,h,l,e,r):this._processReaddir(n,c,h,l,e,r))},d.prototype._processReaddir=function(t,e,r,n,i,o){var a=this._readdir(r,o);if(a){for(var c=n[0],l=!!this.minimatch.negate,h=c._glob,u=this.dot||"."===h.charAt(0),p=[],f=0;f<a.length;f++)("."!==(g=a[f]).charAt(0)||u)&&(l&&!t?!g.match(c):g.match(c))&&p.push(g);var d=p.length;if(0!==d)if(1!==n.length||this.mark||this.stat)for(n.shift(),f=0;f<d;f++){var m;g=p[f],m=t?[t,g]:[g],this._process(m.concat(n),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(f=0;f<d;f++){var g=p[f];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},d.prototype._emitMatch=function(t,e){if(!p(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},d.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},d.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},d.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},d.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},d.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),c=t?[t]:[],l=c.concat(a);this._process(l,i,!1);var h=o.length;if(!this.symlinks[r]||!s)for(var u=0;u<h;u++)if("."!==o[u].charAt(0)||this.dot){var p=c.concat(o[u],a);this._process(p,i,!0);var f=c.concat(o[u],n);this._process(f,i,!0)}}},d.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&a(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},d.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch(t){i=s}else i=s}return this.statCache[e]=i,n=!0,i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},d.prototype._mark=function(t){return c.mark(this,t)},d.prototype._makeAbs=function(t){return c.makeAbs(this,t)}},7844:(t,e,r)=>{var n=r(2479),i=Object.create(null),s=r(778);function o(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}t.exports=n((function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return s((function e(){var r=i[t],n=r.length,s=o(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){e.apply(null,s)}))):delete i[t]}}))}(t))}))},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},291:(t,e,r)=>{"use strict";const n=r(1017);t.exports=(t,e)=>(t=n.resolve(t),e=n.resolve(e),"win32"===process.platform&&(t=t.toLowerCase(),e=e.toLowerCase()),t!==e&&(t+=n.sep,e+=n.sep,t.startsWith(e)))},1171:(t,e,r)=>{t.exports=p,p.Minimatch=f;var n=function(){try{return r(1017)}catch(t){}}()||{sep:"/"};p.sep=n.sep;var i=p.GLOBSTAR=f.GLOBSTAR={},s=r(3644),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",l="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),h=/\/+/;function u(t,e){e=e||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function p(t,e,r){return m(e),r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&new f(e,r).match(t)}function f(t,e){if(!(this instanceof f))return new f(t,e);m(t),e||(e={}),t=t.trim(),e.allowWindowsEscape||"/"===n.sep||(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}function d(t,e){return e||(e=this instanceof f?this.options:{}),t=void 0===t?this.pattern:t,m(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:s(t)}p.filter=function(t,e){return e=e||{},function(r,n,i){return p(r,t,e)}},p.defaults=function(t){if(!t||"object"!=typeof t||!Object.keys(t).length)return p;var e=p,r=function(r,n,i){return e(r,n,u(t,i))};return(r.Minimatch=function(r,n){return new e.Minimatch(r,u(t,n))}).defaults=function(r){return e.defaults(u(t,r)).Minimatch},r.filter=function(r,n){return e.filter(r,u(t,n))},r.defaults=function(r){return e.defaults(u(t,r))},r.makeRe=function(r,n){return e.makeRe(r,u(t,n))},r.braceExpand=function(r,n){return e.braceExpand(r,u(t,n))},r.match=function(r,n,i){return e.match(r,n,u(t,i))},r},f.defaults=function(t){return p.defaults(t).Minimatch},f.prototype.debug=function(){},f.prototype.make=function(){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(h)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0},f.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=0;if(!this.options.nonegate){for(var n=0,i=t.length;n<i&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}},p.braceExpand=function(t,e){return d(t,e)},f.prototype.braceExpand=d;var m=function(t){if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};f.prototype.parse=function(t,e){m(t);var r=this.options;if("**"===t){if(!r.noglobstar)return i;t="*"}if(""===t)return"";var n,s="",h=!!r.nocase,u=!1,p=[],f=[],d=!1,y=-1,b=-1,v="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function E(){if(n){switch(n){case"*":s+=c,h=!0;break;case"?":s+=a,h=!0;break;default:s+="\\"+n}w.debug("clearStateChar %j %j",n,s),n=!1}}for(var A,_=0,S=t.length;_<S&&(A=t.charAt(_));_++)if(this.debug("%s\t%s %s %j",t,_,s,A),u&&l[A])s+="\\"+A,u=!1;else switch(A){case"/":return!1;case"\\":E(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,_,s,A),d){this.debug("  in class"),"!"===A&&_===b+1&&(A="^"),s+=A;continue}w.debug("call clearStateChar %j",n),E(),n=A,r.noext&&E();continue;case"(":if(d){s+="(";continue}if(!n){s+="\\(";continue}p.push({type:n,start:_-1,reStart:s.length,open:o[n].open,close:o[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(d||!p.length){s+="\\)";continue}E(),h=!0;var x=p.pop();s+=x.close,"!"===x.type&&f.push(x),x.reEnd=s.length;continue;case"|":if(d||!p.length||u){s+="\\|",u=!1;continue}E(),s+="|";continue;case"[":if(E(),d){s+="\\"+A;continue}d=!0,b=_,y=s.length,s+=A;continue;case"]":if(_===b+1||!d){s+="\\"+A,u=!1;continue}var k=t.substring(b+1,_);try{RegExp("["+k+"]")}catch(t){var C=this.parse(k,g);s=s.substr(0,y)+"\\["+C[0]+"\\]",h=h||C[1],d=!1;continue}h=!0,d=!1,s+=A;continue;default:E(),u?u=!1:!l[A]||"^"===A&&d||(s+="\\"),s+=A}for(d&&(k=t.substr(b+1),C=this.parse(k,g),s=s.substr(0,y)+"\\["+C[0],h=h||C[1]),x=p.pop();x;x=p.pop()){var R=s.slice(x.reStart+x.open.length);this.debug("setting tail",s,x),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",R,R,x,s);var O="*"===x.type?c:"?"===x.type?a:"\\"+x.type;h=!0,s=s.slice(0,x.reStart)+O+"\\("+R}E(),u&&(s+="\\\\");var T=!1;switch(s.charAt(0)){case"[":case".":case"(":T=!0}for(var L=f.length-1;L>-1;L--){var D=f[L],P=s.slice(0,D.reStart),$=s.slice(D.reStart,D.reEnd-8),I=s.slice(D.reEnd-8,D.reEnd),N=s.slice(D.reEnd);I+=N;var H=P.split("(").length-1,M=N;for(_=0;_<H;_++)M=M.replace(/\)[+*?]?/,"");var j="";""===(N=M)&&e!==g&&(j="$"),s=P+$+N+j+I}if(""!==s&&h&&(s="(?=.)"+s),T&&(s=v+s),e===g)return[s,h];if(!h)return t.replace(/\\(.)/g,"$1");var F=r.nocase?"i":"";try{var G=new RegExp("^"+s+"$",F)}catch(t){return new RegExp("$.")}return G._glob=t,G._src=s,G};var g={};p.makeRe=function(t,e){return new f(t,e||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?c:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",s=t.map((function(t){return t.map((function(t){return t===i?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},p.match=function(t,e,r){var n=new f(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},f.prototype.match=function(t,e){if(void 0===e&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/")),t=t.split(h),this.debug(this.pattern,"split",t);var i,s,o=this.set;for(this.debug(this.pattern,"set",o),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<o.length;s++){var a=o[s],c=t;if(r.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,c=e.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var l,h=e[o],u=t[s];if(this.debug(e,h,u),!1===h)return!1;if(h===i){this.debug("GLOBSTAR",[e,h,u]);var p=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;p<a;){var d=t[p];if(this.debug("\nglobstar while",t,p,e,f,d),this.matchOne(t.slice(p),e.slice(f),r))return this.debug("globstar found match!",p,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,p,e,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,e,f),p!==a))}if("string"==typeof h?(l=u===h,this.debug("string match",h,u,l)):(l=u.match(h),this.debug("pattern match",h,u,l)),!l)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&""===t[s];throw new Error("wtf?")}},3171:t=>{t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&"\\"===t[3]){var i=t[2];"?"!==i&&"."!==i||"\\\\"!==t.slice(0,2)||(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),n+s.join("/")}},778:(t,e,r)=>{var n=r(2479);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function s(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(s),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},4095:t=>{"use strict";function e(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}t.exports="win32"===process.platform?r:e,t.exports.posix=e,t.exports.win32=r},9444:(t,e,r)=>{"use strict";t.exports=r(6087)},1006:(t,e,r)=>{"use strict";const n=r(1017),i="\\.{1,2}(?:\\/|$)",s={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:i,NO_DOT:"(?!\\.)",NO_DOTS:`(?!(?:^|\\/)${i})`,NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:`(?!${i})`,QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},o={...s,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:t=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:t=>!0===t?o:s}},3376:(t,e,r)=>{"use strict";const n=r(1006),i=r(8702),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=n,h=(t,e)=>{if("function"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();const r=`[${t.join("-")}]`;try{new RegExp(r)}catch(e){return t.map((t=>i.escapeRegex(t))).join("..")}return r},u=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,p=(t,e)=>{if("string"!=typeof t)throw new TypeError("Expected a string");t=l[t]||t;const r={...e},f="number"==typeof r.maxLength?Math.min(s,r.maxLength):s;let d=t.length;if(d>f)throw new SyntaxError(`Input length: ${d}, exceeds maximum allowed length: ${f}`);const m={type:"bos",value:"",output:r.prepend||""},g=[m],y=r.capture?"":"?:",b=i.isWindows(e),v=n.globChars(b),w=n.extglobChars(v),{DOT_LITERAL:E,PLUS_LITERAL:A,SLASH_LITERAL:_,ONE_CHAR:S,DOTS_SLASH:x,NO_DOT:k,NO_DOT_SLASH:C,NO_DOTS_SLASH:R,QMARK:O,QMARK_NO_DOT:T,STAR:L,START_ANCHOR:D}=v,P=t=>`(${y}(?:(?!${D}${t.dot?x:E}).)*?)`,$=r.dot?"":k,I=r.dot?O:T;let N=!0===r.bash?P(r):L;r.capture&&(N=`(${N})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const H={input:t,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};t=i.removePrefix(t,H),d=t.length;const M=[],j=[],F=[];let G,B=m;const q=()=>H.index===d-1,U=H.peek=(e=1)=>t[H.index+e],K=H.advance=()=>t[++H.index]||"",Q=()=>t.slice(H.index+1),W=(t="",e=0)=>{H.consumed+=t,H.index+=e},z=t=>{H.output+=null!=t.output?t.output:t.value,W(t.value)},X=()=>{let t=1;for(;"!"===U()&&("("!==U(2)||"?"===U(3));)K(),H.start++,t++;return t%2!=0&&(H.negated=!0,H.start++,!0)},Z=t=>{H[t]++,F.push(t)},Y=t=>{H[t]--,F.pop()},V=t=>{if("globstar"===B.type){const e=H.braces>0&&("comma"===t.type||"brace"===t.type),r=!0===t.extglob||M.length&&("pipe"===t.type||"paren"===t.type);"slash"===t.type||"paren"===t.type||e||r||(H.output=H.output.slice(0,-B.output.length),B.type="star",B.value="*",B.output=N,H.output+=B.output)}if(M.length&&"paren"!==t.type&&(M[M.length-1].inner+=t.value),(t.value||t.output)&&z(t),B&&"text"===B.type&&"text"===t.type)return B.value+=t.value,void(B.output=(B.output||"")+t.value);t.prev=B,g.push(t),B=t},J=(t,e)=>{const n={...w[e],conditions:1,inner:""};n.prev=B,n.parens=H.parens,n.output=H.output;const i=(r.capture?"(":"")+n.open;Z("parens"),V({type:t,value:e,output:H.output?"":S}),V({type:"paren",extglob:!0,value:K(),output:i}),M.push(n)},tt=t=>{let n,i=t.close+(r.capture?")":"");if("negate"===t.type){let s=N;if(t.inner&&t.inner.length>1&&t.inner.includes("/")&&(s=P(r)),(s!==N||q()||/^\)+$/.test(Q()))&&(i=t.close=`)$))${s}`),t.inner.includes("*")&&(n=Q())&&/^\.[^\\/.]+$/.test(n)){const r=p(n,{...e,fastpaths:!1}).output;i=t.close=`)${r})${s})`}"bos"===t.prev.type&&(H.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:G,output:i}),Y("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(t)){let n=!1,s=t.replace(c,((t,e,r,i,s,o)=>"\\"===i?(n=!0,t):"?"===i?e?e+i+(s?O.repeat(s.length):""):0===o?I+(s?O.repeat(s.length):""):O.repeat(r.length):"."===i?E.repeat(r.length):"*"===i?e?e+i+(s?N:""):N:e?t:`\\${t}`));return!0===n&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,(t=>t.length%2==0?"\\\\":t?"\\":""))),s===t&&!0===r.contains?(H.output=t,H):(H.output=i.wrapOutput(s,H,e),H)}for(;!q();){if(G=K(),"\0"===G)continue;if("\\"===G){const t=U();if("/"===t&&!0!==r.bash)continue;if("."===t||";"===t)continue;if(!t){G+="\\",V({type:"text",value:G});continue}const e=/^\\+/.exec(Q());let n=0;if(e&&e[0].length>2&&(n=e[0].length,H.index+=n,n%2!=0&&(G+="\\")),!0===r.unescape?G=K():G+=K(),0===H.brackets){V({type:"text",value:G});continue}}if(H.brackets>0&&("]"!==G||"["===B.value||"[^"===B.value)){if(!1!==r.posix&&":"===G){const t=B.value.slice(1);if(t.includes("[")&&(B.posix=!0,t.includes(":"))){const t=B.value.lastIndexOf("["),e=B.value.slice(0,t),r=B.value.slice(t+2),n=o[r];if(n){B.value=e+n,H.backtrack=!0,K(),m.output||1!==g.indexOf(B)||(m.output=S);continue}}}("["===G&&":"!==U()||"-"===G&&"]"===U())&&(G=`\\${G}`),"]"!==G||"["!==B.value&&"[^"!==B.value||(G=`\\${G}`),!0===r.posix&&"!"===G&&"["===B.value&&(G="^"),B.value+=G,z({value:G});continue}if(1===H.quotes&&'"'!==G){G=i.escapeRegex(G),B.value+=G,z({value:G});continue}if('"'===G){H.quotes=1===H.quotes?0:1,!0===r.keepQuotes&&V({type:"text",value:G});continue}if("("===G){Z("parens"),V({type:"paren",value:G});continue}if(")"===G){if(0===H.parens&&!0===r.strictBrackets)throw new SyntaxError(u("opening","("));const t=M[M.length-1];if(t&&H.parens===t.parens+1){tt(M.pop());continue}V({type:"paren",value:G,output:H.parens?")":"\\)"}),Y("parens");continue}if("["===G){if(!0!==r.nobracket&&Q().includes("]"))Z("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(u("closing","]"));G=`\\${G}`}V({type:"bracket",value:G});continue}if("]"===G){if(!0===r.nobracket||B&&"bracket"===B.type&&1===B.value.length){V({type:"text",value:G,output:`\\${G}`});continue}if(0===H.brackets){if(!0===r.strictBrackets)throw new SyntaxError(u("opening","["));V({type:"text",value:G,output:`\\${G}`});continue}Y("brackets");const t=B.value.slice(1);if(!0===B.posix||"^"!==t[0]||t.includes("/")||(G=`/${G}`),B.value+=G,z({value:G}),!1===r.literalBrackets||i.hasRegexChars(t))continue;const e=i.escapeRegex(B.value);if(H.output=H.output.slice(0,-B.value.length),!0===r.literalBrackets){H.output+=e,B.value=e;continue}B.value=`(${y}${e}|${B.value})`,H.output+=B.value;continue}if("{"===G&&!0!==r.nobrace){Z("braces");const t={type:"brace",value:G,output:"(",outputIndex:H.output.length,tokensIndex:H.tokens.length};j.push(t),V(t);continue}if("}"===G){const t=j[j.length-1];if(!0===r.nobrace||!t){V({type:"text",value:G,output:G});continue}let e=")";if(!0===t.dots){const t=g.slice(),n=[];for(let e=t.length-1;e>=0&&(g.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&n.unshift(t[e].value);e=h(n,r),H.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){const r=H.output.slice(0,t.outputIndex),n=H.tokens.slice(t.tokensIndex);t.value=t.output="\\{",G=e="\\}",H.output=r;for(const t of n)H.output+=t.output||t.value}V({type:"brace",value:G,output:e}),Y("braces"),j.pop();continue}if("|"===G){M.length>0&&M[M.length-1].conditions++,V({type:"text",value:G});continue}if(","===G){let t=G;const e=j[j.length-1];e&&"braces"===F[F.length-1]&&(e.comma=!0,t="|"),V({type:"comma",value:G,output:t});continue}if("/"===G){if("dot"===B.type&&H.index===H.start+1){H.start=H.index+1,H.consumed="",H.output="",g.pop(),B=m;continue}V({type:"slash",value:G,output:_});continue}if("."===G){if(H.braces>0&&"dot"===B.type){"."===B.value&&(B.output=E);const t=j[j.length-1];B.type="dots",B.output+=G,B.value+=G,t.dots=!0;continue}if(H.braces+H.parens===0&&"bos"!==B.type&&"slash"!==B.type){V({type:"text",value:G,output:E});continue}V({type:"dot",value:G,output:E});continue}if("?"===G){if((!B||"("!==B.value)&&!0!==r.noextglob&&"("===U()&&"?"!==U(2)){J("qmark",G);continue}if(B&&"paren"===B.type){const t=U();let e=G;if("<"===t&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===B.value&&!/[!=<:]/.test(t)||"<"===t&&!/<([!=]|\w+>)/.test(Q()))&&(e=`\\${G}`),V({type:"text",value:G,output:e});continue}if(!0!==r.dot&&("slash"===B.type||"bos"===B.type)){V({type:"qmark",value:G,output:T});continue}V({type:"qmark",value:G,output:O});continue}if("!"===G){if(!0!==r.noextglob&&"("===U()&&("?"!==U(2)||!/[!=<:]/.test(U(3)))){J("negate",G);continue}if(!0!==r.nonegate&&0===H.index){X();continue}}if("+"===G){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){J("plus",G);continue}if(B&&"("===B.value||!1===r.regex){V({type:"plus",value:G,output:A});continue}if(B&&("bracket"===B.type||"paren"===B.type||"brace"===B.type)||H.parens>0){V({type:"plus",value:G});continue}V({type:"plus",value:A});continue}if("@"===G){if(!0!==r.noextglob&&"("===U()&&"?"!==U(2)){V({type:"at",extglob:!0,value:G,output:""});continue}V({type:"text",value:G});continue}if("*"!==G){"$"!==G&&"^"!==G||(G=`\\${G}`);const t=a.exec(Q());t&&(G+=t[0],H.index+=t[0].length),V({type:"text",value:G});continue}if(B&&("globstar"===B.type||!0===B.star)){B.type="star",B.star=!0,B.value+=G,B.output=N,H.backtrack=!0,H.globstar=!0,W(G);continue}let e=Q();if(!0!==r.noextglob&&/^\([^?]/.test(e)){J("star",G);continue}if("star"===B.type){if(!0===r.noglobstar){W(G);continue}const n=B.prev,i=n.prev,s="slash"===n.type||"bos"===n.type,o=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!s||e[0]&&"/"!==e[0])){V({type:"star",value:G,output:""});continue}const a=H.braces>0&&("comma"===n.type||"brace"===n.type),c=M.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!c){V({type:"star",value:G,output:""});continue}for(;"/**"===e.slice(0,3);){const r=t[H.index+4];if(r&&"/"!==r)break;e=e.slice(3),W("/**",3)}if("bos"===n.type&&q()){B.type="globstar",B.value+=G,B.output=P(r),H.output=B.output,H.globstar=!0,W(G);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&q()){H.output=H.output.slice(0,-(n.output+B.output).length),n.output=`(?:${n.output}`,B.type="globstar",B.output=P(r)+(r.strictSlashes?")":"|$)"),B.value+=G,H.globstar=!0,H.output+=n.output+B.output,W(G);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===e[0]){const t=void 0!==e[1]?"|$":"";H.output=H.output.slice(0,-(n.output+B.output).length),n.output=`(?:${n.output}`,B.type="globstar",B.output=`${P(r)}${_}|${_}${t})`,B.value+=G,H.output+=n.output+B.output,H.globstar=!0,W(G+K()),V({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===e[0]){B.type="globstar",B.value+=G,B.output=`(?:^|${_}|${P(r)}${_})`,H.output=B.output,H.globstar=!0,W(G+K()),V({type:"slash",value:"/",output:""});continue}H.output=H.output.slice(0,-B.output.length),B.type="globstar",B.output=P(r),B.value+=G,H.output+=B.output,H.globstar=!0,W(G);continue}const n={type:"star",value:G,output:N};!0!==r.bash?!B||"bracket"!==B.type&&"paren"!==B.type||!0!==r.regex?(H.index!==H.start&&"slash"!==B.type&&"dot"!==B.type||("dot"===B.type?(H.output+=C,B.output+=C):!0===r.dot?(H.output+=R,B.output+=R):(H.output+=$,B.output+=$),"*"!==U()&&(H.output+=S,B.output+=S)),V(n)):(n.output=G,V(n)):(n.output=".*?","bos"!==B.type&&"slash"!==B.type||(n.output=$+n.output),V(n))}for(;H.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(u("closing","]"));H.output=i.escapeLast(H.output,"["),Y("brackets")}for(;H.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(u("closing",")"));H.output=i.escapeLast(H.output,"("),Y("parens")}for(;H.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(u("closing","}"));H.output=i.escapeLast(H.output,"{"),Y("braces")}if(!0===r.strictSlashes||"star"!==B.type&&"bracket"!==B.type||V({type:"maybe_slash",value:"",output:`${_}?`}),!0===H.backtrack){H.output="";for(const t of H.tokens)H.output+=null!=t.output?t.output:t.value,t.suffix&&(H.output+=t.suffix)}return H};p.fastpaths=(t,e)=>{const r={...e},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=t.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);t=l[t]||t;const c=i.isWindows(e),{DOT_LITERAL:h,SLASH_LITERAL:u,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:m,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:b}=n.globChars(c),v=r.dot?m:d,w=r.dot?g:d,E=r.capture?"":"?:";let A=!0===r.bash?".*?":y;r.capture&&(A=`(${A})`);const _=t=>!0===t.noglobstar?A:`(${E}(?:(?!${b}${t.dot?f:h}).)*?)`,S=t=>{switch(t){case"*":return`${v}${p}${A}`;case".*":return`${h}${p}${A}`;case"*.*":return`${v}${A}${h}${p}${A}`;case"*/*":return`${v}${A}${u}${p}${w}${A}`;case"**":return v+_(r);case"**/*":return`(?:${v}${_(r)}${u})?${w}${p}${A}`;case"**/*.*":return`(?:${v}${_(r)}${u})?${w}${A}${h}${p}${A}`;case"**/.*":return`(?:${v}${_(r)}${u})?${h}${p}${A}`;default:{const e=/^(.*?)\.(\w+)$/.exec(t);if(!e)return;const r=S(e[1]);if(!r)return;return r+h+e[2]}}},x=i.removePrefix(t,{negated:!1,prefix:""});let k=S(x);return k&&!0!==r.strictSlashes&&(k+=`${u}?`),k},t.exports=p},6087:(t,e,r)=>{"use strict";const n=r(1017),i=r(3921),s=r(3376),o=r(8702),a=r(1006),c=(t,e,r=!1)=>{if(Array.isArray(t)){const n=t.map((t=>c(t,e,r))),i=t=>{for(const e of n){const r=e(t);if(r)return r}return!1};return i}const n=(i=t)&&"object"==typeof i&&!Array.isArray(i)&&t.tokens&&t.input;var i;if(""===t||"string"!=typeof t&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=e||{},a=o.isWindows(e),l=n?c.compileRe(t,e):c.makeRe(t,e,!1,!0),h=l.state;delete l.state;let u=()=>!1;if(s.ignore){const t={...e,ignore:null,onMatch:null,onResult:null};u=c(s.ignore,t,r)}const p=(r,n=!1)=>{const{isMatch:i,match:o,output:p}=c.test(r,l,e,{glob:t,posix:a}),f={glob:t,state:h,regex:l,posix:a,input:r,output:p,match:o,isMatch:i};return"function"==typeof s.onResult&&s.onResult(f),!1===i?(f.isMatch=!1,!!n&&f):u(r)?("function"==typeof s.onIgnore&&s.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof s.onMatch&&s.onMatch(f),!n||f)};return r&&(p.state=h),p};c.test=(t,e,r,{glob:n,posix:i}={})=>{if("string"!=typeof t)throw new TypeError("Expected input to be a string");if(""===t)return{isMatch:!1,output:""};const s=r||{},a=s.format||(i?o.toPosixSlashes:null);let l=t===n,h=l&&a?a(t):t;return!1===l&&(h=a?a(t):t,l=h===n),!1!==l&&!0!==s.capture||(l=!0===s.matchBase||!0===s.basename?c.matchBase(t,e,r,i):e.exec(h)),{isMatch:Boolean(l),match:l,output:h}},c.matchBase=(t,e,r,i=o.isWindows(r))=>(e instanceof RegExp?e:c.makeRe(e,r)).test(n.basename(t)),c.isMatch=(t,e,r)=>c(e,r)(t),c.parse=(t,e)=>Array.isArray(t)?t.map((t=>c.parse(t,e))):s(t,{...e,fastpaths:!1}),c.scan=(t,e)=>i(t,e),c.compileRe=(t,e,r=!1,n=!1)=>{if(!0===r)return t.output;const i=e||{},s=i.contains?"":"^",o=i.contains?"":"$";let a=`${s}(?:${t.output})${o}`;t&&!0===t.negated&&(a=`^(?!${a}).*$`);const l=c.toRegex(a,e);return!0===n&&(l.state=t),l},c.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||"string"!=typeof t)throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return!1===e.fastpaths||"."!==t[0]&&"*"!==t[0]||(i.output=s.fastpaths(t,e)),i.output||(i=s(t,e)),c.compileRe(i,e,r,n)},c.toRegex=(t,e)=>{try{const r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(t){if(e&&!0===e.debug)throw t;return/$^/}},c.constants=a,t.exports=c},3921:(t,e,r)=>{"use strict";const n=r(8702),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:h,CHAR_LEFT_CURLY_BRACE:u,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:d,CHAR_QUESTION_MARK:m,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(1006),v=t=>t===h||t===o,w=t=>{!0!==t.isPrefix&&(t.depth=t.isGlobstar?1/0:1)};t.exports=(t,e)=>{const r=e||{},E=t.length-1,A=!0===r.parts||!0===r.scanToEnd,_=[],S=[],x=[];let k,C,R=t,O=-1,T=0,L=0,D=!1,P=!1,$=!1,I=!1,N=!1,H=!1,M=!1,j=!1,F=!1,G=!1,B=0,q={value:"",depth:0,isGlob:!1};const U=()=>O>=E,K=()=>(k=C,R.charCodeAt(++O));for(;O<E;){let t;if(C=K(),C!==o){if(!0===H||C===u){for(B++;!0!==U()&&(C=K());)if(C!==o)if(C!==u){if(!0!==H&&C===c&&(C=K())===c){if(D=q.isBrace=!0,$=q.isGlob=!0,G=!0,!0===A)continue;break}if(!0!==H&&C===a){if(D=q.isBrace=!0,$=q.isGlob=!0,G=!0,!0===A)continue;break}if(C===g&&(B--,0===B)){H=!1,D=q.isBrace=!0,G=!0;break}}else B++;else M=q.backslashes=!0,K();if(!0===A)continue;break}if(C!==h){if(!0!==r.noext&&!0==(C===d||C===s||C===i||C===m||C===l)&&R.charCodeAt(O+1)===p){if($=q.isGlob=!0,I=q.isExtglob=!0,G=!0,C===l&&O===T&&(F=!0),!0===A){for(;!0!==U()&&(C=K());)if(C!==o){if(C===y){$=q.isGlob=!0,G=!0;break}}else M=q.backslashes=!0,C=K();continue}break}if(C===i){if(k===i&&(N=q.isGlobstar=!0),$=q.isGlob=!0,G=!0,!0===A)continue;break}if(C===m){if($=q.isGlob=!0,G=!0,!0===A)continue;break}if(C===f){for(;!0!==U()&&(t=K());)if(t!==o){if(t===b){P=q.isBracket=!0,$=q.isGlob=!0,G=!0;break}}else M=q.backslashes=!0,K();if(!0===A)continue;break}if(!0===r.nonegate||C!==l||O!==T){if(!0!==r.noparen&&C===p){if($=q.isGlob=!0,!0===A){for(;!0!==U()&&(C=K());)if(C!==p){if(C===y){G=!0;break}}else M=q.backslashes=!0,C=K();continue}break}if(!0===$){if(G=!0,!0===A)continue;break}}else j=q.negated=!0,T++}else{if(_.push(O),S.push(q),q={value:"",depth:0,isGlob:!1},!0===G)continue;if(k===c&&O===T+1){T+=2;continue}L=O+1}}else M=q.backslashes=!0,C=K(),C===u&&(H=!0)}!0===r.noext&&(I=!1,$=!1);let Q=R,W="",z="";T>0&&(W=R.slice(0,T),R=R.slice(T),L-=T),Q&&!0===$&&L>0?(Q=R.slice(0,L),z=R.slice(L)):!0===$?(Q="",z=R):Q=R,Q&&""!==Q&&"/"!==Q&&Q!==R&&v(Q.charCodeAt(Q.length-1))&&(Q=Q.slice(0,-1)),!0===r.unescape&&(z&&(z=n.removeBackslashes(z)),Q&&!0===M&&(Q=n.removeBackslashes(Q)));const X={prefix:W,input:t,start:T,base:Q,glob:z,isBrace:D,isBracket:P,isGlob:$,isExtglob:I,isGlobstar:N,negated:j,negatedExtglob:F};if(!0===r.tokens&&(X.maxDepth=0,v(C)||S.push(q),X.tokens=S),!0===r.parts||!0===r.tokens){let e;for(let n=0;n<_.length;n++){const i=e?e+1:T,s=_[n],o=t.slice(i,s);r.tokens&&(0===n&&0!==T?(S[n].isPrefix=!0,S[n].value=W):S[n].value=o,w(S[n]),X.maxDepth+=S[n].depth),0===n&&""===o||x.push(o),e=s}if(e&&e+1<t.length){const n=t.slice(e+1);x.push(n),r.tokens&&(S[S.length-1].value=n,w(S[S.length-1]),X.maxDepth+=S[S.length-1].depth)}X.slashes=_,X.parts=x}return X}},8702:(t,e,r)=>{"use strict";const n=r(1017),i="win32"===process.platform,{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(1006);e.isObject=t=>null!==t&&"object"==typeof t&&!Array.isArray(t),e.hasRegexChars=t=>a.test(t),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=t=>t.replace(c,"\\$1"),e.toPosixSlashes=t=>t.replace(s,"/"),e.removeBackslashes=t=>t.replace(o,(t=>"\\"===t?"":t)),e.supportsLookbehinds=()=>{const t=process.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},e.isWindows=t=>t&&"boolean"==typeof t.windows?t.windows:!0===i||"\\"===n.sep,e.escapeLast=(t,r,n)=>{const i=t.lastIndexOf(r,n);return-1===i?t:"\\"===t[i-1]?e.escapeLast(t,r,i-1):`${t.slice(0,i)}\\${t.slice(i)}`},e.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r},e.wrapOutput=(t,e={},r={})=>{let n=`${r.contains?"":"^"}(?:${t})${r.contains?"":"$"}`;return!0===e.negated&&(n=`(?:^(?!${n}).*$)`),n}},8782:(t,e,r)=>{function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,r){if(r||(r={}),r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||i,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(h))}(t,r),t.changedCwd=!1;var o=process.cwd();n(r,"cwd")?(t.cwd=s.resolve(r.cwd),t.changedCwd=t.cwd!==o):t.cwd=o,t.root=r.root||s.resolve(t.cwd,"/"),t.root=s.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=a(t.cwd)?t.cwd:u(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new c(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=u,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);e?r.push.apply(r,o):o.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(l)),t.mark){for(n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[u(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}t.ignore.length&&(r=r.filter((function(e){return!p(t,e)}))),t.found=r},e.mark=function(t,e){var r=u(t,e),n=t.cache[r],i=e;if(n){var s="DIR"===n||Array.isArray(n),o="/"===e.slice(-1);if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=u(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i},e.isIgnored=p,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=r(7147),s=r(1017),o=r(1171),a=r(4095),c=o.Minimatch;function l(t,e){return t.localeCompare(e,"en")}function h(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new c(r,{dot:!0})}return{matcher:new c(t,{dot:!0}),gmatcher:e}}function u(t,e){var r=e;return r="/"===e.charAt(0)?s.join(t.root,e):a(e)||""===e?e:t.changedCwd?s.resolve(t.cwd,e):s.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function p(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},9129:(t,e,r)=>{t.exports=b;var n=r(7334),i=r(1171),s=(i.Minimatch,r(5717)),o=r(2361).EventEmitter,a=r(1017),c=r(9491),l=r(4095),h=r(2425),u=r(8782),p=u.setopts,f=u.ownProp,d=r(7844),m=(r(3837),u.childrenIgnored),g=u.isIgnored,y=r(778);function b(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return h(t,e)}return new w(t,e,r)}b.sync=h;var v=b.GlobSync=h.GlobSync;function w(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new v(t,e)}if(!(this instanceof w))return new w(t,e,r);p(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return o();for(var s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--i._processing,i._processing<=0&&i._finish()}}b.glob=b,b.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new w(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},b.Glob=w,s(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();u.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),s=this,o=i.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=s._makeAbs(r),n.realpath(r,s.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:s.emit("error",n):a[i]=!0,0==--o&&(s.matches[t]=a,e())}))}))},w.prototype._mark=function(t){return u.mark(this,t)},w.prototype._makeAbs=function(t){return u.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(t,e,r,n){if(c(this instanceof w),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var s,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:s=null;break;default:s=t.slice(0,o).join("/")}var a,h=t.slice(o);null===s?a=".":l(s)||l(t.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var u=this._makeAbs(a);if(m(this,a))return n();h[0]===i.GLOBSTAR?this._processGlobStar(s,a,u,h,e,r,n):this._processReaddir(s,a,u,h,e,r,n)}},w.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,l){return a._processReaddir2(t,e,r,n,i,s,l,o)}))},w.prototype._processReaddir2=function(t,e,r,n,i,s,o,c){if(!o)return c();for(var l=n[0],h=!!this.minimatch.negate,u=l._glob,p=this.dot||"."===u.charAt(0),f=[],d=0;d<o.length;d++)("."!==(g=o[d]).charAt(0)||p)&&(h&&!t?!g.match(l):g.match(l))&&f.push(g);var m=f.length;if(0===m)return c();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),d=0;d<m;d++){var g=f[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return c()}for(n.shift(),d=0;d<m;d++)g=f[d],t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(n),i,s,c);c()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!g(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=l(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,n=d("lstat\0"+t,(function(n,i){if(n&&"ENOENT"===n.code)return e();var s=i&&i.isSymbolicLink();r.symlinks[t]=s,s||!i||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));n&&r.fs.lstat(t,n)}},w.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!f(this.symlinks,t))return this._readdirInGlobStar(t,r);if(f(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}this.fs.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},w.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},w.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},w.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,(function(c,l){a._processGlobStar2(t,e,r,n,i,s,l,o)}))},w.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1),l=t?[t]:[],h=l.concat(c);this._process(h,i,!1,a);var u=this.symlinks[r],p=o.length;if(u&&s)return a();for(var f=0;f<p;f++)if("."!==o[f].charAt(0)||this.dot){var d=l.concat(o[f],c);this._process(d,i,!0,a);var m=l.concat(o[f],n);this._process(m,i,!0,a)}a()},w.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,(function(i,s){n._processSimple2(t,e,i,s,r)}))},w.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&l(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},w.prototype._stat=function(t,e){var r=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&f(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return e(null,i);if(n&&"FILE"===i)return e()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return n&&"FILE"===o?e():e(null,o,s)}var a=this,c=d("stat\0"+r,(function(n,i){if(i&&i.isSymbolicLink())return a.fs.stat(r,(function(n,s){n?a._stat2(t,r,null,i,e):a._stat2(t,r,n,s,e)}));a._stat2(t,r,n,i,e)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var s="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&"FILE"===o?i():i(null,o,n)}},2425:(t,e,r)=>{t.exports=f,f.GlobSync=d;var n=r(7334),i=r(1171),s=(i.Minimatch,r(9129).Glob,r(3837),r(1017)),o=r(9491),a=r(4095),c=r(8782),l=c.setopts,h=c.ownProp,u=c.childrenIgnored,p=c.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new d(t,e).found}function d(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof d))return new d(t,e);if(l(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}d.prototype._finish=function(){if(o(this instanceof d),this.realpath){var t=this;this.matches.forEach((function(e,r){var i=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),i[n.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(s)]=!0}}))}c.finish(this)},d.prototype._process=function(t,e,r){o(this instanceof d);for(var n,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,s).join("/")}var c,l=t.slice(s);null===n?c=".":a(n)||a(t.join("/"))?(n&&a(n)||(n="/"+n),c=n):c=n;var h=this._makeAbs(c);u(this,c)||(l[0]===i.GLOBSTAR?this._processGlobStar(n,c,h,l,e,r):this._processReaddir(n,c,h,l,e,r))},d.prototype._processReaddir=function(t,e,r,n,i,o){var a=this._readdir(r,o);if(a){for(var c=n[0],l=!!this.minimatch.negate,h=c._glob,u=this.dot||"."===h.charAt(0),p=[],f=0;f<a.length;f++)("."!==(g=a[f]).charAt(0)||u)&&(l&&!t?!g.match(c):g.match(c))&&p.push(g);var d=p.length;if(0!==d)if(1!==n.length||this.mark||this.stat)for(n.shift(),f=0;f<d;f++){var m;g=p[f],m=t?[t,g]:[g],this._process(m.concat(n),i,o)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(f=0;f<d;f++){var g=p[f];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},d.prototype._emitMatch=function(t,e){if(!p(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},d.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},d.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},d.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},d.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},d.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),c=t?[t]:[],l=c.concat(a);this._process(l,i,!1);var h=o.length;if(!this.symlinks[r]||!s)for(var u=0;u<h;u++)if("."!==o[u].charAt(0)||this.dot){var p=c.concat(o[u],a);this._process(p,i,!0);var f=c.concat(o[u],n);this._process(f,i,!0)}}},d.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&a(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},d.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch(t){i=s}else i=s}return this.statCache[e]=i,n=!0,i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},d.prototype._mark=function(t){return c.mark(this,t)},d.prototype._makeAbs=function(t){return c.makeAbs(this,t)}},984:(t,e,r)=>{const n=r(9491),i=r(1017),s=r(7147);let o;try{o=r(9129)}catch(t){}const a={nosort:!0,silent:!0};let c=0;const l="win32"===process.platform,h=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||s[e],t[e+="Sync"]=t[e]||s[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===o)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||a},u=(t,e,r)=>{"function"==typeof e&&(r=e,e={}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(e,"rimraf: invalid options argument provided"),n.equal(typeof e,"object","rimraf: options should be object"),h(e);let i=0,s=null,a=0;const l=(t,n)=>t?r(t):(a=n.length,0===a?r():void n.forEach((t=>{const n=o=>{if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&i<e.maxBusyTries)return i++,setTimeout((()=>p(t,e,n)),100*i);if("EMFILE"===o.code&&c<e.emfileWait)return setTimeout((()=>p(t,e,n)),c++);"ENOENT"===o.code&&(o=null)}c=0,(t=>{s=s||t,0==--a&&r(s)})(o)};p(t,e,n)})));if(e.disableGlob||!o.hasMagic(t))return l(null,[t]);e.lstat(t,((r,n)=>{if(!r)return l(null,[t]);o(t,e.glob,l)}))},p=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.lstat(t,((n,i)=>n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&l&&f(t,e,n,r),i&&i.isDirectory()?m(t,e,n,r):void e.unlink(t,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return l?f(t,e,n,r):m(t,e,n,r);if("EISDIR"===n.code)return m(t,e,n,r)}return r(n)})))))},f=(t,e,r,i)=>{n(t),n(e),n("function"==typeof i),e.chmod(t,438,(n=>{n?i("ENOENT"===n.code?null:r):e.stat(t,((n,s)=>{n?i("ENOENT"===n.code?null:r):s.isDirectory()?m(t,e,r,i):e.unlink(t,i)}))}))},d=(t,e,r)=>{n(t),n(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw r}let i;try{i=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}i.isDirectory()?b(t,e,r):e.unlinkSync(t)},m=(t,e,r,i)=>{n(t),n(e),n("function"==typeof i),e.rmdir(t,(n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?i(r):i(n):g(t,e,i)}))},g=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.readdir(t,((n,s)=>{if(n)return r(n);let o,a=s.length;if(0===a)return e.rmdir(t,r);s.forEach((n=>{u(i.join(t,n),e,(n=>{if(!o)return n?r(o=n):void(0==--a&&e.rmdir(t,r))}))}))}))},y=(t,e)=>{let r;if(h(e=e||{}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n(e,"rimraf: missing options"),n.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!o.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=o.sync(t,e.glob)}if(r.length)for(let t=0;t<r.length;t++){const n=r[t];let i;try{i=e.lstatSync(n)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&l&&d(n,e,t)}try{i&&i.isDirectory()?b(n,e,null):e.unlinkSync(n)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return l?d(n,e,t):b(n,e,t);if("EISDIR"!==t.code)throw t;b(n,e,t)}}},b=(t,e,r)=>{n(t),n(e);try{e.rmdirSync(t)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw r;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||v(t,e)}},v=(t,e)=>{n(t),n(e),e.readdirSync(t).forEach((r=>y(i.join(t,r),e)));const r=l?100:1;let s=0;for(;;){let n=!0;try{const i=e.rmdirSync(t,e);return n=!1,i}finally{if(++s<r&&n)continue}}};t.exports=u,u.sync=y},2479:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},7910:(t,e,r)=>{"use strict";const n=r(9496);t.exports={AwaitController:function(){const t=[],e=[],r=t=>new Promise((e=>setTimeout(e,t))),i=async function(t){const e=await n.env.clipboard.readText();let i=!1;for(setTimeout((()=>{i=!0}),t);!i;)if(await r(5),await n.env.clipboard.readText()!==e)return;throw"timeout"};return{processDocumentChangeEvent:function(){const e=Array.from(t);t.length=0;for(let t=0;t<e.length;t++)e[t]()},processSelectionChangeEvent:function(){const t=Array.from(e);e.length=0;for(let e=0;e<t.length;e++)t[e]()},waitFor:function(r,n=300){const s=r.split(" "),o=[];let a=null,c=0;const l=function(){c-=1,0==c&&a()};for(let r=0;r<s.length;r++){const a=s[r];"document"===a?(c+=1,t.push(l)):"selection"===a?(c+=1,e.push(l)):"clipboard"===a?o.push(i(n)):""!==a&&console.error('Error (kb-macro): Unknown args.await parameter "'+a+'"')}return 0!==c&&o.push(new Promise(((t,e)=>{a=t,setTimeout((()=>{0<c&&(c=0,e())}),n)}))),0===o.length?Promise.resolve(null):Promise.all(o)}}}}},6142:t=>{"use strict";t.exports={CommandSequence:function(){const t=[];return{clear:function(){t.length=0},push:function(e){t.push(e)},optimize:function(){for(let e=0;e<t.length;e++){if(e+1<t.length&&"$moveCursor"===t[e].command&&"$moveCursor"===t[e+1].command){const r=t[e].args||{},n=t[e+1].args||{},i=r.characterDelta||0,s=n.characterDelta||0,o=r.lineDelta||0,a=n.lineDelta||0,c=n.selectionLength||0,l=r.groupSize||1,h=n.groupSize||1;if(0===o&&0===a&&0===c&&1===l&&1===h&&i+s===0){t.splice(e,2),e--;continue}}if(e+1<t.length&&"$moveCursor"===t[e].command&&"$type"===t[e+1].command){const r=t[e].args||{},n=t[e+1].args||{},i=r.characterDelta||0,s=r.lineDelta||0,o=r.selectionLength||0,a=r.groupSize||1,c=n.deleteLeft||0,l=n.deleteRight||0;if(0===s&&0===o&&1===a&&i<0&&i+l===0){t[e+1].args.deleteLeft=c+l,delete t[e+1].args.deleteRight,t.splice(e,1),e--;continue}}if(0<e&&"$type"===t[e-1].command&&"$type"===t[e].command){const r=t[e-1].args||{},n=t[e].args||{},i=r.text||"",s=n.text||"",o=n.deleteLeft||0,a=n.deleteRight||0;if(i.length>=o&&0===a){const r=i.substr(0,i.length-o)+s;t[e-1].args.text=r,t.splice(e,1),e--;continue}}}},get:function(){return t}}}}},5527:(t,e,r)=>{"use strict";const n=r(5562);t.exports={CursorMotionDetector:function(){const t={Trailing:0,Alone:1};let e=null,r=!1,i=!1,s=null,o=null;const a=[];let c=null;const l=function(t,r){e&&e(t,r)},h=function(t,e,r){const n=r.start;if(e.start.line===n.line&&e.start.line===e.end.line&&e.start.character!==n.character){const t=e.start.character-n.character,r=e.end.character-e.start.character;return 0===r?{characterDelta:t}:{characterDelta:t,selectionLength:r}}if(e.start.line!==n.line&&e.start.line===e.end.line){const r=e.start.line-n.line;if(r<0){const n=t.lineAt(e.start.line).text.length,i=e.start.character-n,s=e.end.character-e.start.character;return 0===s?{lineDelta:r,characterDelta:i}:{lineDelta:r,characterDelta:i,selectionLength:s}}{const t=e.start.character,n=e.end.character-e.start.character;return 0===n?{lineDelta:r,characterDelta:t}:{lineDelta:r,characterDelta:t,selectionLength:n}}}},u=function(t,e){return t&&e&&t.lineDelta===e.lineDelta&&t.characterDelta===e.characterDelta&&t.selectionLength===e.selectionLength},p=function(t,e,r){return e.length===r.length?function(t,e,r){const n=h(t,e[0],r[0]);if(n){for(let i=1;i<e.length;i++)if(!u(n,h(t,e[i],r[i])))return;return n}}(t,e,r):e.length%r.length==0?function(t,e,r,n){const i=[];for(let s=0;s<n;s++){if(i[s]=h(t,e[s],r[0]),!i[s])return;if(i[s].selectionLength!==i[0].selectionLength)return}for(let s=n;s<e.length;s++){const o=Math.floor(s/n),a=h(t,e[s],r[o]);if(!u(a,i[s%n]))return}const s={characterDelta:i.map((t=>t.characterDelta))};return i.some((t=>"lineDelta"in t))&&(s.lineDelta=i.map((t=>t.lineDelta||0))),"selectionLength"in i[0]&&(s.selectionLength=i[0].selectionLength),s}(t,e,r,e.length/r.length):void 0},f=function(t,e,r){for(let n=1;n<=r.length;n++)if(r.length%n==0){const i=r.filter(((t,e)=>e%n==0)),s=p(t,e,i);if(s)return 1<n&&(s.groupSize=n),s}};return{CursorMotionType:t,onDetectCursorMotion:function(t){e=t},start:function(t){s=t?t.selections:null,o=t||null,a.length=0,c=o,r=!0},stop:function(){r=!1},setPrediction:function(t,e){c!==t&&(a.length=0,c=t),a.push(e)},getPrediction:function(t){return c===t?0===a.length?null:a[a.length-1]:null},setAloneEnabled:function(t){i=t},processSelectionChangeEvent:function(e){r&&(o!==e.textEditor&&(o=e.textEditor,s=e.selections),function(e){const r=e.textEditor.document;if(c!==e.textEditor||0===a.length){const n=Array.from(e.selections),o=f(r,n,s);o&&i&&l(t.Alone,o)}else{const i=n.sortSelections(e.selections),s=a.findIndex((t=>n.isEqualSelections(t,i)));if(0<=s)a.splice(0,s+1);else{const e=a[0],n=f(r,i,e);n&&(l(t.Trailing,n),a.splice(0,1))}}}(e),s=e.selections)},isEnabled:function(){return r}}}}},155:t=>{"use strict";const e=function(){const t=function(t){return t.selections[t.selections.length-1].active};return{getCursorPosition:t,calculateDistanceBelow:function(e){if(!e)return[0,0];const r=e.document.lineCount,n=t(e).line,i=e.document.lineAt(n).text.length,s=t(e).character;return[Math.max(0,r-1-n),Math.max(0,i-s)]},compareDistance:function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:t[1]<e[1]?-1:t[1]>e[1]?1:0}}}();t.exports={EndOfFileDetector:function(t){let r=e.calculateDistanceBelow(t),n=null;return{reachedEndOfFile:function(){const i=e.calculateDistanceBelow(t),s=e.compareDistance(i,r);if(0===i[0]&&0===i[1])return!0;if(s>=0)return!0;if(null===n)n=i[0]<r[0];else if(n){if(i[0]>=r[0])return!0;if(0===i[0])return!0}return r=i,!1}}},endOfFileDetectorUtil:e}},7457:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9496),i=r(6281),s=r(610),{AwaitController:o}=r(7910),{KeyboardMacro:a}=r(3268),{TypingDetector:c}=r(2843),{HelperContext:l}=r(1609),h=r(51),u=o(),p=a({awaitController:u}),f=c(),d=l();t.exports={activate:function(t){const e=new i.HistoryController,r=function(e,r){const i="kb-macro."+e;t.subscriptions.push(n.commands.registerCommand(i,r))},o=function(e,r){const n=e(r);n&&t.subscriptions.push(n)};r("startRecording",p.startRecording),r("cancelRecording",p.cancelRecording),r("finishRecording",p.finishRecording),r("copyMacroAsKeybinding",p.copyMacroAsKeybinding),r("playback",p.playback),r("abortPlayback",p.abortPlayback),r("repeatPlayback",p.repeatPlayback),r("repeatPlaybackTillEndOfFile",p.repeatPlaybackTillEndOfFile),r("wrap",p.wrap),p.registerInternalCommand("$type",h.performType),p.registerInternalCommand("$moveCursor",h.performCursorMotion);const a=n.window.createStatusBarItem(n.StatusBarAlignment.Right,110);a.text="REC",t.subscriptions.push(a),o(p.onChangeRecordingState,(function({recording:t,reason:e}){t?f.start():f.stop(),n.commands.executeCommand("setContext","kb-macro.recording",t),t?(a.show(),n.window.setStatusBarMessage("Recording started!",3e3)):(a.hide(),e===p.RecordingStateReason.Cancel?n.window.setStatusBarMessage("Recording canceled!",3e3):n.window.setStatusBarMessage("Recording finished!",3e3))})),o(p.onChangePlaybackState,(function({playing:t,reason:e}){n.commands.executeCommand("setContext","kb-macro.playing",t),!1===t&&e===p.PlaybackStateReason.Abort&&n.window.setStatusBarMessage("Playback aborted!",3e3)})),o(d.onChangeContext,(function({name:t,value:e}){const r="kb-macro."+t;n.commands.executeCommand("setContext",r,e)})),o(p.onBeginWrappedCommand,(function(t){"side-effect"===t?f.setAloneEnabled(!0):f.suspend()})),o(p.onEndWrappedCommand,(function(t){"side-effect"===t?f.setAloneEnabled(!1):f.resume()})),o(n.workspace.onDidChangeTextDocument,(function(t){u.processDocumentChangeEvent(t),f.processDocumentChangeEvent(t)})),o(n.window.onDidChangeTextEditorSelection,(function(t){u.processSelectionChangeEvent(t),f.processSelectionChangeEvent(t),d.processSelectionChangeEvent(t)})),o(n.window.onDidChangeActiveTextEditor,(function(t){d.processActiveTextEditorChangeEvent(t)})),o(f.onDetectTyping,(function(t,e){t===f.TypingType.Direct?p.push({command:"$type",args:e}):t===f.TypingType.Default&&p.push({command:"default:type",args:e})})),o(f.onDetectCursorMotion,(function(t,e){t!==f.CursorMotionType.Trailing&&t!==f.CursorMotionType.Alone||p.push({command:"$moveCursor",args:e})})),t.subscriptions.push(n.commands.registerTextEditorCommand("local-history.showAll",e.showAll,e)),t.subscriptions.push(n.commands.registerTextEditorCommand("local-history.showCurrent",e.showCurrent,e)),t.subscriptions.push(n.commands.registerTextEditorCommand("local-history.compareToActive",e.compareToActive,e)),t.subscriptions.push(n.commands.registerTextEditorCommand("local-history.compareToCurrent",e.compareToCurrent,e)),t.subscriptions.push(n.commands.registerTextEditorCommand("local-history.compareToPrevious",e.compareToPrevious,e));const c=new s.default(e);n.window.registerTreeDataProvider("treeLocalHistory",c),n.window.registerTreeDataProvider("treeLocalHistoryExplorer",c),n.commands.registerCommand("treeLocalHistory.deleteAll",c.deleteAll,c),n.commands.registerCommand("treeLocalHistory.refresh",c.refresh,c),n.commands.registerCommand("treeLocalHistory.more",c.more,c),n.commands.registerCommand("treeLocalHistory.forCurrentFile",c.forCurrentFile,c),n.commands.registerCommand("treeLocalHistory.forAll",c.forAll,c),n.commands.registerCommand("treeLocalHistory.forSpecificFile",c.forSpecificFile,c),n.commands.registerCommand("treeLocalHistory.showEntry",c.show,c),n.commands.registerCommand("treeLocalHistory.showSideEntry",c.showSide,c),n.commands.registerCommand("treeLocalHistory.deleteEntry",c.delete,c),n.commands.registerCommand("treeLocalHistory.compareToCurrentEntry",c.compareToCurrent,c),n.commands.registerCommand("treeLocalHistory.selectEntry",c.select,c),n.commands.registerCommand("treeLocalHistory.compareEntry",c.compare,c),n.commands.registerCommand("treeLocalHistory.restoreEntry",c.restore,c),n.workspace.onWillSaveTextDocument((t=>t.waitUntil(e.saveFirstRevision(t.document)))),n.workspace.onDidSaveTextDocument((t=>{e.saveRevision(t).then((t=>{t&&c.refresh()}))})),setInterval((()=>{n.workspace.saveAll(),e.saveRevision(n.window.activeTextEditor.document).then((t=>{t&&c.refresh()}))}),5e3),n.window.onDidChangeActiveTextEditor((t=>c.changeActiveFile())),n.workspace.onDidChangeConfiguration((t=>{t.affectsConfiguration("local-history.treeLocation")?c.initLocation():t.affectsConfiguration("local-history")&&(e.clearSettings(),c.refresh())})),d.reset(n.window.activeTextEditor)},deactivate:function(){},awaitController:u,keyboardMacro:p}},1609:t=>{"use strict";t.exports={HelperContext:function(){const t={HeadOfLine:"headOfLine"},e={headOfLine:null};let r=null;const n=function(n){if(!n)return;const i=n.selections,s=0===i[0].active.character&&i[0].isEmpty&&1===i.length;e.headOfLine!==s&&(e.headOfLine=s,r&&r({name:t.HeadOfLine,value:s}))};return{ContextName:t,onChangeContext:function(t){r=t},reset:function(t){n(t)},processActiveTextEditorChangeEvent:function(t){n(t)},processSelectionChangeEvent:function(t){n(t.textEditor)},getContext:function(t){return e[t]}}}}},6281:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9496),i=r(7147),s=r(1017),o=r(7223),a=r(2884),c=r(984),l=r(9170),h=r(7752);e.HistoryController=class{constructor(){this.pattern="_"+"[0-9]".repeat(14),this.regExp=/_(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/,this.settings=new h.HistorySettings,this.saveBatch=new Map}saveFirstRevision(t){return this.internalSave(t,!0,new o.default(1e3))}saveRevision(t){return this.internalSave(t)}showAll(t){this.internalShowAll(this.actionOpen,t,this.getSettings(t.document.uri))}showCurrent(t){let e=t&&t.document;if(e)return this.internalOpen(this.findCurrent(e.fileName,this.getSettings(t.document.uri)),t.viewColumn)}compareToActive(t){this.internalShowAll(this.actionCompareToActive,t,this.getSettings(t.document.uri))}compareToCurrent(t){this.internalShowAll(this.actionCompareToCurrent,t,this.getSettings(t.document.uri))}compareToPrevious(t){this.internalShowAll(this.actionCompareToPrevious,t,this.getSettings(t.document.uri))}compare(t,e,r,n){return this.internalCompare(t,e,r,n)}findAllHistory(t,e,r){return new Promise(((n,i)=>{e.enabled||n();let s=this.decodeFile(t,e,!0);this.getHistoryFiles(s&&s.file,e,r).then((t=>{s.history=t,n(s)})).catch((t=>i(t)))}))}findGlobalHistory(t,e,r,n){return new Promise(((i,s)=>{r.enabled||i(),e?this.findAllHistory(t,r,n).then((t=>i(t&&t.history))):this.getHistoryFiles(t,r,n).then((t=>{i(t)})).catch((t=>s(t)))}))}decodeFile(t,e,r){return this.internalDecodeFile(t,e,r)}getSettings(t){return this.settings.get(t)}clearSettings(){this.settings.clear()}deleteFile(t){return this.deleteFiles([t])}deleteFiles(t){return new Promise(((e,r)=>{this.internalDeleteHistory(t).then((()=>e())).catch((t=>r()))}))}deleteAll(t){return new Promise(((e,r)=>{c(t,(t=>t?r(t):e()))}))}deleteHistory(t){return new Promise(((e,r)=>{const i=this.getSettings(n.Uri.file(t)),s=this.decodeFile(t,i,!0);this.getHistoryFiles(s&&s.file,i,!0).then((t=>this.internalDeleteHistory(t))).then((()=>e())).catch((t=>r()))}))}restore(t){const e=t.fsPath,r=this.getSettings(n.Uri.file(e)),s=this.decodeFile(e,r,!1);if(s&&s.file)return new Promise(((t,r)=>{i.copyFile(e,s.file,(e=>e?r(e):t()))}))}internalSave(t,e,r){const n=this.getSettings(t.uri);return this.allowSave(n,t)?!e&&n.saveDelay?this.saveBatch.get(t.fileName)?Promise.reject(void 0):(this.saveBatch.set(t.fileName,t),this.timeoutPromise(this.internalSaveDocument,1e3*n.saveDelay,[t,n])):this.internalSaveDocument(t,n,e,r):Promise.resolve(void 0)}timeoutPromise(t,e,r){return new Promise(((n,i)=>{setTimeout((()=>{t.apply(this,r).then((t=>n(t))).catch((t=>i(t)))}),e)}))}internalSaveDocument(t,e,r,o){return new Promise(((c,l)=>{let h;h=e.absolute?this.normalizePath(s.dirname(t.fileName),!1):s.dirname(this.getRelativePath(t.fileName).replace(/\//g,s.sep));const u=s.parse(t.fileName),p=this.joinPath(e.historyPath,h,u.name,u.ext);if(r){const r=a.sync(p,{cwd:e.historyPath.replace(/\\/g,"/")});if(r&&r.length>0)return c();if(o&&o.isTimedOut())return n.window.showErrorMessage(`Timeout when internalSave: ' ${t.fileName}`),l("timedout")}else e.saveDelay&&this.saveBatch.delete(t.fileName);let f,d=new Date;if(r){const e=i.statSync(t.fileName);e&&(d=e.mtime)}d=new Date(d.getTime()-6e4*d.getTimezoneOffset()-(r?1e3:0)),f=d.toISOString().substring(0,19).replace(/[-:T]/g,"");const m=this.joinPath(e.historyPath,h,u.name,u.ext,`_${f}`);return this.mkDirRecursive(m)&&this.copyFile(t.fileName,m,o)?(e.daysLimit>0&&!r&&this.purge(t,e,p),c(t)):l("Error occured")}))}allowSave(t,e){if(!t.enabled)return!1;if(!e||!e.fileName)return!1;const r=e.fileName.replace(/\\/g,"/");return!(t.exclude&&t.exclude.length>0&&l(t.exclude,r))}getHistoryFiles(t,e,r){return new Promise(((n,i)=>{t||i("no pattern path");const s=e.historyPath.replace(/\\/g,"/");a(t,{cwd:s,absolute:!0},((t,s)=>{t?i(t):(s&&s.length&&e.maxDisplay&&!r&&(s=s.slice(-1*e.maxDisplay)),n(s))}))}))}internalShowAll(t,e,r){if(!r.enabled)return;let i=this,o=e&&e.document;o&&i.findAllHistory(o.fileName,r).then((a=>{const c=a.history;if(!c||!c.length)return;let l,h,u,p=[];for(let t=c.length-1;t>=0;t--)l=c[t],h=s.relative(r.historyPath,l),u=i.decodeFile(l,r),p.push({description:h,label:u.date.toLocaleString(r.dateLocale),filePath:l,previous:c[t-1]});n.window.showQuickPick(p).then((r=>{if(r){let n={active:o.fileName,selected:r.filePath,previous:r.previous};t.apply(i,[n,e])}}))}))}actionOpen(t,e){return this.internalOpen(n.Uri.file(t.selected),e.viewColumn)}actionCompareToActive(t,e){return this.internalCompare(n.Uri.file(t.selected),n.Uri.file(t.active))}actionCompareToCurrent(t,e,r){return this.internalCompare(n.Uri.file(t.selected),this.findCurrent(t.active,r))}actionCompareToPrevious(t,e){if(t.previous)return this.internalCompare(n.Uri.file(t.selected),n.Uri.file(t.previous))}internalOpen(t,e){if(t)return new Promise(((r,i)=>{n.workspace.openTextDocument(t).then((t=>{n.window.showTextDocument(t,e).then((()=>r()),(t=>i(t)))}),(t=>i(t)))}))}internalCompare(t,e,r,i){if(t&&e){const o={};r&&(o.viewColumn=Number.parseInt(r,10)),o.selection=i;let a=s.basename(t.fsPath)+"<->"+s.basename(e.fsPath);n.commands.executeCommand("vscode.diff",t,e,a,o)}}internalDecodeFile(t,e,r){let n,i,o,a=this,c=!1;if(i=s.parse(t),t.includes("/.history/")||t.includes("\\.history\\")){c=!0;let t=i.name.match(a.regExp);if(!t)return null;o=new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]),i.name=i.name.substring(0,t.index)}if(null!=r){let t="";r!==c&&(!0===r?(t=e.historyPath,e.absolute?i.dir=this.normalizePath(i.dir,!1):i.dir=s.relative(e.folder.fsPath,i.dir)):(i.dir=s.relative(e.historyPath,i.dir),e.absolute?(t="",i.dir=this.normalizePath(i.dir,!0)):t=e.folder.fsPath)),n=a.joinPath(t,i.dir,i.name,i.ext,r?void 0:"")}else n=t;return{dir:i.dir,name:i.name,ext:i.ext,file:n,date:o}}joinPath(t,e,r,n,i=this.pattern){return s.join(t,e,r+i+n)}findCurrent(t,e){if(!e.enabled)return n.Uri.file(t);let r=this.decodeFile(t,e,!1);return null!==r?n.Uri.file(r.file):n.Uri.file(t)}internalDeleteFile(t){return new Promise(((e,r)=>{i.unlink(t,(r=>e(r?{fileName:t,err:r}:t)))}))}internalDeleteHistory(t){return new Promise(((e,r)=>{Promise.all(t.map((t=>this.internalDeleteFile(t)))).then((t=>{t.some((t=>{if(t.err)return n.window.showErrorMessage(`Error when delete files history: '${t.err}' file '${t.fileName}`),!0})),e()})).catch((()=>r()))}))}purge(t,e,r){this.getHistoryFiles(r,e,!0).then((t=>{if(!t||!t.length)return;let r,n,s=(new Date).getTime();for(let o of t)r=i.statSync(o),r&&r.isFile()&&(n=r.birthtime.getTime()+24*e.daysLimit*60*60*1e3,s>n&&i.unlinkSync(o))}))}getRelativePath(t){let e=n.workspace.asRelativePath(t,!1);return t!==e?e:s.basename(t)}mkDirRecursive(t){try{return i.mkdirSync(s.dirname(t),{recursive:!0}),!0}catch(e){return n.window.showErrorMessage(`Error with mkdir: '${e.toString()}' file '${t}`),!1}}copyFile(t,e,r){try{let s;return s=i.readFileSync(t),r&&r.isTimedOut()?(n.window.showErrorMessage(`Timeout when copyFile: ' ${t} => ${e}`),!1):(i.writeFileSync(e,s),!0)}catch(r){return n.window.showErrorMessage(`Error with copyFile: '${r.toString()} ${t} => ${e}`),!1}}normalizePath(t,e){return"win32"===process.platform?e?t.replace("\\",":\\"):t.replace(":",""):t}}},7752:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9496),i=r(1017),s=r(2037);e.HistorySettings=class{constructor(){this.settings=[]}static getTreeLocation(){return n.workspace.getConfiguration("local-history").get("treeLocation")}get(t){let e;const r=n.workspace.getWorkspaceFolder(n.Uri.file(t.fsPath));r&&(e=r.uri);let i=this.settings.find(((t,r,n)=>e&&t.folder?t.folder.fsPath===e.fsPath:e===t.folder));return i||(i=this.read(e,t,r),this.settings.push(i)),i}clear(){this.settings=[]}read(t,e,r){let o,a,c=n.workspace.getConfiguration("local-history"),l=c.get("enabled"),h="";if("boolean"==typeof l&&(h+="local-history.enabled must be a number, "),"string"==typeof c.get("exclude")&&(h+="local-history.exclude must be an array, "),h&&n.window.showWarningMessage(`Change setting: ${h.slice(0,-2)}`,{},{title:"Settings",isCloseAffordance:!1,id:0}).then((t=>{t&&0===t.id&&n.commands.executeCommand("workbench.action.openGlobalSettings")})),0!==l)if(o=c.get("path"),o){o=o.replace(/%([^%]+)%/g,((t,e)=>process.env[e])).replace(/^~/,s.homedir());const e=o.match(/\${workspaceFolder(?:\s*:\s*(.*))?}/i);let r;if(e){if(e.index>1)n.window.showErrorMessage(`\${workspaceFolder} must starts settings local-history.path ${o}`);else{const i=e[1];if(i){const t=n.workspace.workspaceFolders.find((t=>Number.isInteger(i-1)?t.index===Number.parseInt(i,10):t.name===i));t?r=t.uri:n.window.showErrorMessage(`workspaceFolder not found ${o}`)}else r=t}o=r?o.replace(e[0],r.fsPath):null}o&&(a=c.get("absolute"),a||!t&&1===l?(a=!0,o=i.join(o,".history")):t&&(o=i.join(o,".history",r&&this.pathIsInside(t.fsPath,r.fsPath)?"":i.basename(t.fsPath))))}else t&&(a=!1,o=i.join(t.fsPath,".history"));return o&&(o=o.replace(/\//g,i.sep)),{folder:t,daysLimit:c.get("daysLimit")||30,saveDelay:c.get("saveDelay")||0,maxDisplay:c.get("maxDisplay")||10,dateLocale:c.get("dateLocale")||void 0,exclude:c.get("exclude")||["**/.history/**","**/.vscode/**","**/node_modules/**","**/typings/**","**/out/**"],enabled:null!=o&&""!==o,historyPath:o,absolute:a}}pathIsInside(t,e){return r(291)(t,e)}}},610:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9496),i=r(7752);e.default=class{constructor(t){this.controller=t,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.tree={},this.noLimit=!1,this.contentKind=0,this.initLocation()}initLocation(){n.commands.executeCommand("setContext","local-history:treeLocation",i.HistorySettings.getTreeLocation())}getSettingsItem(){switch(this.contentKind){case 1:return new s(this,"Search: all",0,null,this.currentHistoryPath);case 0:return new s(this,"Search: current",0,null,this.currentHistoryFile);case 2:return new s(this,`Search: ${this.searchPattern}`,0,null,this.searchPattern)}}getTreeItem(t){return t}getChildren(t){return new Promise((e=>{const r=Object.keys(this.tree);if(r&&r.length){if(!t){const t=[];return t.push(this.getSettingsItem()),r.forEach((e=>t.push(this.tree[e].grp))),e(t)}if(this.tree[t.label].items)return e(this.tree[t.label].items)}let i=[];if(t)1===t.kind&&(this.historyFiles[t.label].forEach((e=>{i.push(new s(this,this.format(e),2,n.Uri.file(e.file),t.label,!0))})),this.tree[t.label].items=i),e(i);else if(this.historyFiles)i.push(this.getSettingsItem()),i.push(...this.loadHistoryGroups(this.historyFiles)),e(i);else{if(!n.window.activeTextEditor||!n.window.activeTextEditor.document)return e(i);const t=n.window.activeTextEditor.document.uri,r=this.controller.getSettings(t);this.loadHistoryFile(t,r).then((()=>{i.push(this.getSettingsItem()),i.push(...this.loadHistoryGroups(this.historyFiles)),e(i)}))}}))}loadHistoryFile(t,e){return new Promise(((r,n)=>{let i;switch(this.contentKind){case 1:i="**/*.*";break;case 0:i=t.fsPath;break;case 2:i=this.searchPattern}this.controller.findGlobalHistory(i,0===this.contentKind,e,this.noLimit).then((n=>{if(0===this.contentKind){const r=this.controller.decodeFile(t.fsPath,e);this.currentHistoryFile=r&&r.file}this.currentHistoryPath=e.historyPath,this.historyFiles={},this.format=t=>{const r=t.date.toLocaleString(e.dateLocale);return 0!==this.contentKind?`${t.name}${t.ext} (${r})`:r};let i="new";const s=n;return s&&s.length&&s.map((t=>this.controller.decodeFile(t,e))).sort(((t,e)=>t&&e?t.date>e.date?-1:t.date<e.date?1:t.name.localeCompare(e.name):0)).forEach(((t,e)=>{t&&("Older"!==i?(i=this.getRelativeDate(t.date),this.historyFiles[i]?this.historyFiles[i].push(t):this.historyFiles[i]=[t]):this.historyFiles[i].push(t))})),r(this.historyFiles)}))}))}loadHistoryGroups(t){const e=[],r=t&&Object.keys(t);return r&&r.length>0?r.forEach((t=>{const r=new s(this,t,1);this.tree[t]={grp:r},e.push(r)})):e.push(new s(this,"No history",0)),e}getRelativeDate(t){const e=86400,r=t.getTime()/1e3;if(!this.date){const t=new Date,r=t.getTime()/1e3,n=t.setHours(0,0,0,0)/1e3;this.date={now:r,today:n,week:n-((t.getDay()||7)-1)*e,month:t.setDate(1)/1e3,eLastMonth:t.setDate(0)/1e3,lastMonth:t.setDate(1)/1e3}}return this.date.now-r<3600?"In the last hour":r>this.date.today?"Today":r>this.date.today-e?"Yesterday":r>this.date.week?"This week":r>this.date.week-7*e?"Last week":r>this.date.month?"This month":r>this.date.lastMonth?"Last month":"Older"}redraw(){this._onDidChangeTreeData.fire()}changeActiveFile(){if(!n.window.activeTextEditor)return;const t=n.window.activeTextEditor.document.uri,e=this.controller.getSettings(t),r=this.controller.decodeFile(t.fsPath,e,!1);r&&r.file===this.currentHistoryFile||this.refresh()}refresh(t=!1){this.tree={},delete this.selection,this.noLimit=t,delete this.currentHistoryFile,delete this.currentHistoryPath,delete this.historyFiles,delete this.date,this._onDidChangeTreeData.fire()}more(){this.noLimit||this.refresh(!0)}deleteAll(){let t;switch(this.contentKind){case 1:t=`Delete all history - ${this.currentHistoryPath}?`;break;case 0:t=`Delete history for ${this.currentHistoryFile} ?`;break;case 2:t=`Delete history for ${this.searchPattern} ?`}n.window.showInformationMessage(t,{modal:!0},{title:"Yes"},{title:"No",isCloseAffordance:!0}).then((t=>{if("Yes"===t.title)switch(this.contentKind){case 1:this.controller.deleteAll(this.currentHistoryPath).then((()=>this.refresh())).catch((t=>n.window.showErrorMessage(`Delete failed: ${t}`)));break;case 0:this.controller.deleteHistory(this.currentHistoryFile).then((()=>this.refresh())).catch((t=>n.window.showErrorMessage(`Delete failed: ${t}`)));break;case 2:const t=Object.keys(this.historyFiles);if(t&&t.length){const e=[];t.forEach((t=>e.push(...this.historyFiles[t].map((t=>t.file))))),this.controller.deleteFiles(e).then((()=>this.refresh())).catch((t=>n.window.showErrorMessage(`Delete failed: ${t}`)))}}}),(t=>{}))}show(t){n.commands.executeCommand("vscode.open",t)}showSide(t){2===t.kind&&n.commands.executeCommand("vscode.open",t.file,Math.min(n.window.activeTextEditor.viewColumn+1,3))}delete(t){2===t.kind?this.controller.deleteFile(t.file.fsPath).then((()=>this.refresh())):1===t.kind&&this.controller.deleteFiles(this.historyFiles[t.label].map((t=>t.file))).then((()=>this.refresh()))}compareToCurrent(t){if(2===t.kind){let e;if(n.window.activeTextEditor&&n.window.activeTextEditor.document&&n.window.activeTextEditor.document.fileName===this.currentHistoryFile){const t=n.window.activeTextEditor.selection.active;e=new n.Range(t,t)}this.controller.compare(t.file,n.Uri.file(this.currentHistoryFile),null,e)}}select(t){2===t.kind&&(this.selection&&delete this.selection.iconPath,this.selection=t,this.tree[t.grp].grp.collapsibleState=n.TreeItemCollapsibleState.Expanded,this.redraw())}compare(t){2===t.kind&&(this.selection?this.controller.compare(t.file,this.selection.file):n.window.showErrorMessage("Select a history files to compare with"))}restore(t){2===t.kind&&this.controller.restore(t.file).then((()=>this.refresh())).catch((e=>n.window.showErrorMessage(`Restore ${t.file.fsPath} failed. Error: ${e}`)))}forCurrentFile(){this.contentKind=0,this.refresh()}forAll(){this.contentKind=1,this.refresh()}forSpecificFile(){n.window.showInputBox({prompt:"Specify what to search:",value:"**/*myFile*.*",valueSelection:[4,10]}).then((t=>{t&&(this.searchPattern=t,this.contentKind=2,this.refresh())}))}};class s extends n.TreeItem{constructor(t,e="",r,i,s,o){switch(super(e,1===r?n.TreeItemCollapsibleState.Collapsed:n.TreeItemCollapsibleState.None),this.kind=r,this.file=i,this.grp=0!==this.kind?s:void 0,this.kind){case 2:this.contextValue="localHistoryItem",this.tooltip=i.fsPath,this.resourceUri=i,o&&(this.iconPath=!1);break;case 1:this.contextValue="localHistoryGrp";break;default:this.contextValue="localHistoryNone",this.tooltip=s}0===t.contentKind?this.command=2===this.kind?{command:"treeLocalHistory.compareToCurrentEntry",title:"Compare with current version",arguments:[this]}:void 0:this.command=2===this.kind?{command:"treeLocalHistory.showEntry",title:"Open Local History",arguments:[i]}:void 0}}},51:(t,e,r)=>{"use strict";const n=r(9496),i=r(5562),s=function(){const t=function(t,e,r,i){if(r<0){const s=Math.max(0,e.line+r),o=t.lineAt(s).text.length,a=Math.max(0,o+Math.min(i,0));return new n.Position(s,a)}if(0<r){const s=Math.min(e.line+r,t.lineCount-1),o=t.lineAt(s).text.length,a=Math.min(Math.max(0,i),o);return new n.Position(s,a)}if(0===r){if(i<0){const t=Math.max(0,e.character+i);return new n.Position(e.line,t)}{const r=t.lineAt(e.line).text.length,s=Math.min(e.character+i,r);return new n.Position(e.line,s)}}};return{performType:async function(t){const e=n.window.activeTextEditor;if(!e)return;const r=i.makeIndexOfSortedSelections(e.selections),s=t&&t.text||"",o=Math.max(0,t&&t.deleteLeft||0),a=Math.max(0,t&&t.deleteRight||0),c=[];await e.edit((t=>{const l=[];for(let i=0;i<r.length;i++){const c=e.selections[r[i]],h=0<o||0<a?new n.Range(c.active.line,Math.max(0,c.active.character-o),c.active.line,c.active.character+a):new n.Range(c.start,c.end);h.isEmpty||t.delete(h),t.insert(h.start,s),l[i]={range:h,text:s}}const h=i.makeSelectionsAfterTyping(l);for(let t=0;t<r.length;t++)c[r[t]]=h[t]})),i.isEqualSelections(e.selections,c)||(e.selections=c)},performCursorMotion:async function(e){const r=n.window.activeTextEditor;if(!r)return;const i=r.document,s=e.characterDelta||0;let o=e.lineDelta||0;const a=e.selectionLength||0,c=e.groupSize||1;let l=r.selections;if(1<c){if(l.length%c!=0)return;l=l.filter(((t,e)=>e%c==0))}if(Array.isArray(s)){const e=s.length;Array.isArray(o)||(o=Array(e).fill(o));const c=Array.from(l).flatMap((r=>Array.from(Array(e).keys()).map((e=>{const c=t(i,r.start,o[e],s[e]),l=t(i,c,0,a);return new n.Selection(c,l)}))));r.selections=c}else{const e=Array.from(l).map((e=>{const r=t(i,e.start,o,s),c=t(i,r,0,a);return new n.Selection(r,c)}));r.selections=e}}}}();t.exports=s},3268:(t,e,r)=>{"use strict";const n=r(9496),{CommandSequence:i}=r(6142),{EndOfFileDetector:s}=r(155),o=r(4237),a=r(5562);t.exports={KeyboardMacro:function({awaitController:t}){const e={Start:0,Cancel:1,Finish:2},r={Start:0,Abort:1,Finish:2};let c=null,l=null,h=null,u=null,p=n.window.showInputBox,f=n.window.showInformationMessage,d=!1,m=!1,g=!1;const y=i(),b=new Map;let v=function(t){console.error(t)};const w=function(t,e){d=t,c&&c({recording:d,reason:e})},E=function(t,e){m=t,l&&l({playing:m,reason:e})},A=o.makeGuardedCommandSync((function(){d||(y.clear(),w(!0,e.Start))})),_=o.makeGuardedCommandSync((function(){d&&(y.clear(),w(!1,e.Cancel))})),S=o.makeGuardedCommandSync((function(){d&&(y.optimize(),w(!1,e.Finish))})),x=function(t){if(d){if("side-effect"===t.record)return;y.push(t)}},k=o.makeGuardedCommand((async function(){const t=y.get();if(0===t.length)return void f("There's no recorded macro.");const e='{\n    "key": "",\n    "command": "kb-macro.playback",\n    "args": {\n        "sequence": [\n'+t.map((t=>`            ${JSON.stringify(t,null,1).replace(/\n\s*/g," ")}`)).join(",\n")+(0===t.length?"":"\n")+"        ]\n    }\n}";await n.env.clipboard.writeText(e),f("Copied the recorded macro to the clipboard!","Open Keyboard Shortcuts (JSON)").then((t=>{"Open Keyboard Shortcuts (JSON)"===t&&n.commands.executeCommand("workbench.action.openGlobalKeybindingsFile")}),(()=>{}))})),C=async function(e,r){let i=!0;const s=t.waitFor(e.await||"").catch((()=>{}));try{await async function(t){const e=b[t.command];void 0!==e?await e(t.args):await n.commands.executeCommand(t.command,t.args)}(e)}catch(t){i=!1,v(`'kb-macro: ${t.message} - Error in ${r}: ${JSON.stringify(e)}`)}finally{await s}return i},R=function(t){const e={};if("repeat"in(t=t&&"object"==typeof t?t:{})&&"number"==typeof t.repeat&&(e.repeat=t.repeat),"sequence"in t)if(Array.isArray(t.sequence)){const r=t.sequence.map((t=>a.makeCommandSpec(t)));r.includes(null)?(f("Invalid 'sequence' argument: "+JSON.stringify(t.sequence)),e.sequence=[]):e.sequence=r}else f("Invalid 'sequence' argument: "+JSON.stringify(t.sequence)),e.sequence=[];return e},O=async function(t,{tillEndOfFile:e=!1}={}){const i="repeat"in(t=R(t))?t.repeat:1,o="sequence"in t?t.sequence:y.get(),a=d?"command":null;if(!d||"sequence"in t)try{let t;a&&h&&h(a),E(!0,r.Start),g=!1,e&&(t=s(n.window.activeTextEditor));let c=!0;for(let r=0;r<i||e;r++){for(const t of o){if(c=await C(t,"playback"),!c||g)break;a&&x(t)}if(!c||g)break;if(e&&t.reachedEndOfFile())break}}finally{E(!1,g?r.Abort:r.Finish),g=!1,a&&u&&u(a)}},T=o.makeGuardedCommand((t=>O(t))),L=o.makeGuardedCommand((async function(){if(d)return;const t=await p({prompt:"Input the number of times to repeat the macro",validateInput:a.validatePositiveIntegerInput});if(t){const e={repeat:Number(t)};await O(e)}})),D=o.makeGuardedCommand((async function(){await O({},{tillEndOfFile:!0})})),P=o.makeQueueableCommand((async function(t){if(d){const e=a.makeCommandSpec(t);if(!e)return;if("kb-macro.wrap"===e.command)return;if("kb-macro.playback"===e.command)return void await O(e.args);const r=e.record||"command";h&&h(r);try{await C(e,"wrap")&&x(e)}finally{u&&u(r)}}}),{queueSize:2});return{RecordingStateReason:e,PlaybackStateReason:r,setPrintError:function(t){const e=v;return v=t,e},onChangeRecordingState:function(t){c=t},onChangePlaybackState:function(t){l=t},onBeginWrappedCommand:function(t){h=t},onEndWrappedCommand:function(t){u=t},registerInternalCommand:function(t,e){b[t]=e},startRecording:A,cancelRecording:_,finishRecording:S,push:x,copyMacroAsKeybinding:k,validatePlaybackArgs:R,playback:T,abortPlayback:async function(){m&&(g=!0)},repeatPlayback:L,repeatPlaybackTillEndOfFile:D,wrapSync:P,wrap:function(t){P(t)},isRecording:()=>d,isPlaying:()=>m,getCurrentSequence:()=>y.get(),setShowInputBox:function(t){const e=p;return p=t,e},setShowMessage:function(t){const e=f;return f=t,e},WrapQueueSize:2}}}},4237:t=>{"use strict";const e=function(){const t={locked:!1,queueable:!1},e=[];let r=function(t){console.error(t),console.info("kb-macro: Exception in guarded command")};return{makeGuardedCommand:function(e){return async function(n){if(!t.locked){t.locked=!0;try{await e(n)}catch(t){r(t)}finally{t.locked=!1}}}},makeGuardedCommandSync:function(e){return function(n){if(!t.locked){t.locked=!0;try{e(n)}catch(t){r(t)}finally{t.locked=!1}}}},makeQueueableCommand:function(n,{queueSize:i=0}={}){return async function(s){if(t.locked){if(!t.queueable)return;if(i&&e.length>=i)return;await new Promise((t=>{e.push(t)}))}else t.locked=!0,t.queueable=!0;try{await n(s)}catch(t){r(t)}finally{if(0<e.length){const t=e[0];e.splice(0,1),t()}else t.locked=!1,t.queueable=!1}}},setPrintError:function(t){const e=r;return r=t,e},getQueueLength:function(){return e.length}}}();t.exports=e},7223:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.duration=0,this.duration=t,this.startTime=new Date}isTimedOut(){return this.getDuration()>this.duration}logDuration(t=""){console.log(`${t}: ${this.getDuration()}`)}getDuration(){return(new Date).getTime()-this.startTime.getTime()}}},2843:(t,e,r)=>{"use strict";const n=r(9496),i=r(5562),{CursorMotionDetector:s}=r(5527);t.exports={TypingDetector:function(){const t={Direct:0,Default:1};let e=null,r=!1,o=!1;const a=s(),c=function(t,r){e&&e(t,r)},l=function(e,r,s){if(s.length===r.length&&function(t){const e=t[0].text;return t.every((t=>t.text===e))&&""!==e}(s)){if(function(t,e){return t.every(((t,r)=>e[r].isEqual(t.range)))}(s,r)){const n=i.makeSelectionsAfterTyping(s);return i.isEqualSelections(r,n)||a.setPrediction(e,n),c(t.Direct,{text:s[0].text}),!0}if(function(t,e){if(!e.every((t=>t.isEmpty)))return!1;if(!t.every((e=>e.rangeLength===t[0].rangeLength)))return!1;if(!e.every(((e,r)=>e.active.line===t[r].range.start.line)))return!1;const r=e[0].active.character-t[0].range.start.character,n=t[0].range.end.character-e[0].active.character;return!(r<0||n<0)&&e.every(((e,i)=>r===e.active.character-t[i].range.start.character&&n===t[i].range.end.character-e.active.character))}(s,r)){const n=r[0].active.character-s[0].range.start.character,o=s[0].range.end.character-r[0].active.character,l=i.makeSelectionsAfterTyping(s);i.isEqualSelections(r,l)||a.setPrediction(e,l);const h={text:s[0].text};return 0<n&&(h.deleteLeft=n),0<o&&(h.deleteRight=o),c(t.Direct,h),!0}}if(function(t,e){return e.every(((t,r)=>t.text===e[r%2].text))&&2*t.length===e.length&&e.every((t=>t.range.isEmpty))&&t.every(((t,r)=>t.start.isEqual(e[2*r].range.start)&&t.end.isEqual(e[2*r+1].range.start)))&&e.every((t=>1===t.text.length))}(r,s)){const r=function(t){const e=[],r=t[0].text.length;for(let i=0;i+1<t.length;i+=2){const s=t[i].range.start.translate(0,r),o=t[i+1].range.start.translate(0,r);e.push(new n.Selection(s,o))}return e}(s);return a.setPrediction(e,r),c(t.Default,{text:s[0].text}),!0}};return{TypingType:t,CursorMotionType:a.CursorMotionType,onDetectTyping:function(t){e=t},onDetectCursorMotion:a.onDetectCursorMotion,start:function(){r=!0,o=!1,a.start(n.window.activeTextEditor)},stop:function(){r=!1,o=!1,a.stop()},suspend:function(){o=!0,a.stop()},resume:function(){o=!1,a.start(n.window.activeTextEditor)},setAloneEnabled:a.setAloneEnabled,processDocumentChangeEvent:function(t){if(!r||o)return;const e=n.window.activeTextEditor;if(!e||t.document!==e.document)return;if(0===t.contentChanges.length)return;const s=function(t){return(t=Array.from(t)).sort(((t,e)=>t.rangeOffset-e.rangeOffset)),t}(t.contentChanges),c=a.getPrediction(e);if(c&&l(e,c,s))return;const h=i.sortSelections(e.selections);l(e,h,s)},processSelectionChangeEvent:a.processSelectionChangeEvent,setPrediction:a.setPrediction,getPrediction:a.getPrediction}}}},5562:(t,e,r)=>{"use strict";const n=r(9496),i={isEqualSelections:function(t,e){return t.length===e.length&&t.every(((t,r)=>t.anchor.isEqual(e[r].anchor)&&t.active.isEqual(e[r].active)))},sortSelections:function(t){return(t=Array.from(t)).sort(((t,e)=>t.start.compareTo(e.start))),t},makeIndexOfSortedSelections:function(t){const e=Array.from({length:t.length},((t,e)=>e));return e.sort(((e,r)=>t[e].start.compareTo(t[r].start))),e},makeSelectionsAfterTyping:function(t){let e=0,r=0,i=0;return t.map((({range:t,text:s})=>{const o=Array.from(s).filter((t=>"\n"===t)).length;if(r!==t.start.line&&(i=0),e+=o,0===o)i+=s.length;else{const e=s.length-(s.lastIndexOf("\n")+1);i=e-t.start.character}const a=new n.Position(t.start.line+e,t.start.character+i);return e-=t.end.line-t.start.line,r=t.end.line,i-=t.end.character-t.start.character,new n.Selection(a,a)}))},validatePositiveIntegerInput:function(t){if(""!==t&&!/^[1-9]\d*$/.test(t))return"Input a positive integer number"},makeCommandSpec:function(t){if(!t||!t.command||"string"!=typeof t.command)return null;const e={command:t.command};if("args"in t&&(e.args=t.args),"await"in t){if("string"!=typeof t.await)return null;e.await=t.await}if("record"in t){if("string"!=typeof t.record)return null;e.record=t.record}return e}};t.exports=i},9496:t=>{"use strict";t.exports=require("vscode")},9491:t=>{"use strict";t.exports=require("assert")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},3837:t=>{"use strict";t.exports=require("util")}},e={},r=function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}(7457);module.exports=r})();